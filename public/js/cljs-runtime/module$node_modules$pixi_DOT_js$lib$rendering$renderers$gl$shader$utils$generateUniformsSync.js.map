{
"version":3,
"file":"module$node_modules$pixi_DOT_js$lib$rendering$renderers$gl$shader$utils$generateUniformsSync.js",
"lineCount":36,
"mappings":"AAAAA,cAAA,CAAA,4FAAA,GAAiH,QAAQ,CAACC,MAAD,EAAQC,OAAR,EAAgBC,MAAhB,EAAuBC,OAAvB,CAAgC;AAGzJ,MAAIC,iBAAiBH,OAAA,CAAQ,sFAAR,CAArB,EACII,eAAeJ,OAAA,CAAQ,oFAAR,CADnB,EAEIK,iBAAiBL,OAAA,CAAQ,4FAAR,CAFrB,EAGIM,4BAA4BN,OAAA,CAAQ,mGAAR,CAHhC;AAKA,cAAA;AAoDAE,SAAQK,CAAAA,oBAAR,GAnDAA,QAA6B,CAACC,KAAD,EAAQC,WAAR,CAAqB;AAChD,UAAMC,gBAAgB,CAAE,8KAAF,CAAtB;AAQA,SAAK,MAAMC,CAAX,GAAgBH,MAAMI,CAAAA,QAAtB,CAAgC;AAC9B,UAAI,CAACH,WAAA,CAAYE,CAAZ,CAAL,CAAqB;AACfH,aAAMI,CAAAA,QAAN,CAAeD,CAAf,CAAJ,YAAiCP,YAAaA,CAAAA,YAA9C,GACMI,KAAMI,CAAAA,QAAN,CAAeD,CAAf,CAAkBE,CAAAA,GAAtB,GACEH,aAAcI,CAAAA,IAAd,CAAoB;8DACgCH,CADhC,MACuCA,CADvC;qBAApB,CADF,GAKED,aAAcI,CAAAA,IAAd,CAAoB;gEACkCH,CADlC;qBAApB,CANJ,GAUWH,KAAMI,CAAAA,QAAN,CAAeD,CAAf,CAVX,YAUwCR,cAAeA,CAAAA,cAVvD,IAWEO,aAAcI,CAAAA,IAAd,CAAoB;gEACoCH,CADpC,MAC2CA,CAD3C;qBAApB,CAXF;AAeA;AAhBmB;AAkBrB,UAAMI,UAAUP,KAAMQ,CAAAA,iBAAN,CAAwBL,CAAxB,CAAhB;AACA,UAAIM,SAAS,CAAA,CAAb;AACA,WAAK,IAAIC,IAAI,CAAb,EAAgBA,CAAhB,GAAoBb,cAAeA,CAAAA,cAAec,CAAAA,MAAlD,EAA0DD,CAAA,EAA1D,CAA+D;AAC7D,cAAME,SAASf,cAAeA,CAAAA,cAAf,CAA8Ba,CAA9B,CAAf;AACA,YAAIH,OAAQM,CAAAA,IAAZ,KAAqBD,MAAOC,CAAAA,IAA5B,IAAoCD,MAAOE,CAAAA,IAAP,CAAYP,OAAZ,CAApC,CAA0D;AACxDL,uBAAcI,CAAAA,IAAd,CAAoB,WAAUH,CAAV,IAApB,EAAqCN,cAAeA,CAAAA,cAAf,CAA8Ba,CAA9B,CAAiCH,CAAAA,OAAtE,CAAA;AACAE,gBAAA,GAAS,CAAA,CAAT;AACA;AAHwD;AAFG;AAQ1DA,YAAL,KAEQM,OACN,GADiB,CADqB,CAAjBC,KAAAT,OAAQU,CAAAA,IAARD,GAAqBlB,yBAA0BoB,CAAAA,yBAA/CF,GAA2ElB,yBAA0BqB,CAAAA,wBACzG,EAAaZ,OAAQM,CAAAA,IAArB,CAA2BO,CAAAA,OAA3B,CAAmC,UAAnC,EAAgD,OAAMjB,CAAN,aAAhD,CACjB,EAAAD,aAAcI,CAAAA,IAAd,CAAoB;uBACHH,CADG;;sBAGJA,CAHI;cAIZY,OAJY,GAApB,CAHF;AA7B8B;AAuChC,WAAO,IAAIM,QAAJ,CAAa,IAAb,EAAmB,IAAnB,EAAyB,UAAzB,EAAqC,UAArC,EAAiDnB,aAAcoB,CAAAA,IAAd,CAAmB,IAAnB,CAAjD,CAAP;AAhDgD,GAmDlD;AA5DyJ,CAAzJ;;",
"sources":["node_modules/pixi_DOT_js/lib/rendering/renderers/gl/shader/utils/generateUniformsSync.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$pixi_DOT_js$lib$rendering$renderers$gl$shader$utils$generateUniformsSync\"] = function(global,require,module,exports) {\n'use strict';\n\nvar BufferResource = require('../../../shared/buffer/BufferResource.js');\nvar UniformGroup = require('../../../shared/shader/UniformGroup.js');\nvar uniformParsers = require('../../../shared/shader/utils/uniformParsers.js');\nvar generateUniformsSyncTypes = require('./generateUniformsSyncTypes.js');\n\n\"use strict\";\nfunction generateUniformsSync(group, uniformData) {\n  const funcFragments = [`\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n        var name = null;\n    `];\n  for (const i in group.uniforms) {\n    if (!uniformData[i]) {\n      if (group.uniforms[i] instanceof UniformGroup.UniformGroup) {\n        if (group.uniforms[i].ubo) {\n          funcFragments.push(`\n                        renderer.shader.bindUniformBlock(uv.${i}, \"${i}\");\n                    `);\n        } else {\n          funcFragments.push(`\n                        renderer.shader.updateUniformGroup(uv.${i});\n                    `);\n        }\n      } else if (group.uniforms[i] instanceof BufferResource.BufferResource) {\n        funcFragments.push(`\n                        renderer.shader.bindBufferResource(uv.${i}, \"${i}\");\n                    `);\n      }\n      continue;\n    }\n    const uniform = group.uniformStructures[i];\n    let parsed = false;\n    for (let j = 0; j < uniformParsers.uniformParsers.length; j++) {\n      const parser = uniformParsers.uniformParsers[j];\n      if (uniform.type === parser.type && parser.test(uniform)) {\n        funcFragments.push(`name = \"${i}\";`, uniformParsers.uniformParsers[j].uniform);\n        parsed = true;\n        break;\n      }\n    }\n    if (!parsed) {\n      const templateType = uniform.size === 1 ? generateUniformsSyncTypes.UNIFORM_TO_SINGLE_SETTERS : generateUniformsSyncTypes.UNIFORM_TO_ARRAY_SETTERS;\n      const template = templateType[uniform.type].replace(\"location\", `ud[\"${i}\"].location`);\n      funcFragments.push(`\n            cu = ud[\"${i}\"];\n            cv = cu.value;\n            v = uv[\"${i}\"];\n            ${template};`);\n    }\n  }\n  return new Function(\"ud\", \"uv\", \"renderer\", \"syncData\", funcFragments.join(\"\\n\"));\n}\n\nexports.generateUniformsSync = generateUniformsSync;\n//# sourceMappingURL=generateUniformsSync.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","BufferResource","UniformGroup","uniformParsers","generateUniformsSyncTypes","generateUniformsSync","group","uniformData","funcFragments","i","uniforms","ubo","push","uniform","uniformStructures","parsed","j","length","parser","type","test","template","templateType","size","UNIFORM_TO_SINGLE_SETTERS","UNIFORM_TO_ARRAY_SETTERS","replace","Function","join"]
}
