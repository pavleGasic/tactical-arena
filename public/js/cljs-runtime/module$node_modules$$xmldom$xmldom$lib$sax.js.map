{
"version":3,
"file":"module$node_modules$$xmldom$xmldom$lib$sax.js",
"lineCount":358,
"mappings":"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",
"sources":["node_modules/@xmldom/xmldom/lib/sax.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$xmldom$xmldom$lib$sax\"] = function(global,require,module,exports) {\nvar NAMESPACE = require(\"./conventions\").NAMESPACE;\n\n//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring\nvar S_ATTR_SPACE=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\nvar S_TAG_CLOSE = 7;//closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\nfunction ParseError(message, locator) {\n\tthis.message = message\n\tthis.locator = locator\n\tif(Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name\n\nfunction XMLReader(){\n\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n\tfunction fixedFromCharCode(code) {\n\t\t// String.prototype.fromCharCode does not supports\n\t\t// > 2 bytes unicode chars directly\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif (Object.hasOwnProperty.call(entityMap, k)) {\n\t\t\treturn entityMap[k];\n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tif(end>start){\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\tlocator&&position(start);\n\t\t\tdomBuilder.characters(xt,0,end-start);\n\t\t\tstart = end\n\t\t}\n\t}\n\tfunction position(p,m){\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\n\t\t\tlineStart = m.index;\n\t\t\tlineEnd = lineStart + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t\t//console.log('line++:',locator,startPos,endPos)\n\t\t}\n\t\tlocator.columnNumber = p-lineStart+1;\n\t}\n\tvar lineStart = 0;\n\tvar lineEnd = 0;\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\ttry{\n\t\t\tvar tagStart = source.indexOf('<',start);\n\t\t\tif(tagStart<0){\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\t\tvar doc = domBuilder.doc;\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\n\t    \t\t\tdoc.appendChild(text);\n\t    \t\t\tdomBuilder.currentElement = text;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tagStart>start){\n\t\t\t\tappendText(tagStart);\n\t\t\t}\n\t\t\tswitch(source.charAt(tagStart+1)){\n\t\t\tcase '/':\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\n\t\t\t\tvar tagName = source.substring(tagStart + 2, end).replace(/[ \\t\\n\\r]+$/g, '');\n\t\t\t\tvar config = parseStack.pop();\n\t\t\t\tif(end<0){\n\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\n\t        \t\tend = tagStart+1+tagName.length;\n\t        \t}else if(tagName.match(/\\s</)){\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\n\t        \t\tend = tagStart+1+tagName.length;\n\t\t\t\t}\n\t\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\tvar endMatch = config.tagName == tagName;\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if(endIgnoreCaseMach){\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\t\t\tif(localNSMap){\n\t\t\t\t\t\tfor (var prefix in localNSMap) {\n\t\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!endMatch){\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName ); // No known test case\n\t\t\t\t\t}\n\t\t        }else{\n\t\t        \tparseStack.push(config)\n\t\t        }\n\n\t\t\t\tend++;\n\t\t\t\tbreak;\n\t\t\t\t// end elment\n\t\t\tcase '?':// <?...?>\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\n\t\t\t\tbreak;\n\t\t\tcase '!':// <!doctype,<![CDATA,\u003c!--\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\t\t\t\t//elStartEnd\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\n\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(locator && len){\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\n\t\t\t\t\t//try{//attribute position fixed\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator2\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator;\n\t\t\t\t}else{\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (NAMESPACE.isHTML(el.uri) && !el.closed) {\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t} else {\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tif (e instanceof ParseError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terrorHandler.error('element parse error: '+e)\n\t\t\tend = -1;\n\t\t}\n\t\tif(end>start){\n\t\t\tstart = end;\n\t\t}else{\n\t\t\t//TODO: \u8fd9\u91cc\u6709\u53ef\u80fdsax\u56de\u9000\uff0c\u6709\u4f4d\u7f6e\u9519\u8bef\u98ce\u9669\n\t\t\tappendText(Math.max(tagStart,start)+1);\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\n\n\t/**\n\t * @param {string} qname\n\t * @param {string} value\n\t * @param {number} startIndex\n\t */\n\tfunction addAttribute(qname, value, startIndex) {\n\t\tif (el.attributeNames.hasOwnProperty(qname)) {\n\t\t\terrorHandler.fatalError('Attribute ' + qname + ' redefined')\n\t\t}\n\t\tel.addValue(\n\t\t\tqname,\n\t\t\t// @see https://www.w3.org/TR/xml/#AVNormalize\n\t\t\t// since the xmldom sax parser does not \"interpret\" DTD the following is not implemented:\n\t\t\t// - recursive replacement of (DTD) entity references\n\t\t\t// - trimming and collapsing multiple spaces into a single one for attributes that are not of type CDATA\n\t\t\tvalue.replace(/[\\t\\n\\r]/g, ' ').replace(/&#?\\w+;/g, entityReplacer),\n\t\t\tstartIndex\n\t\t)\n\t}\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_SPACE){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\n\t\t\t\tthrow new Error('attribute equal must after attrName'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n\t\t\t\t){//equal\n\t\t\t\tif(s === S_ATTR){\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t}\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\t\taddAttribute(attrName, value, start-1);\n\t\t\t\t\ts = S_ATTR_END;\n\t\t\t\t}else{\n\t\t\t\t\t//fatalError: no end quot match\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\taddAttribute(attrName, value, start);\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_ATTR_END\n\t\t\t}else{\n\t\t\t\t//fatalError: no equal before\n\t\t\t\tthrow new Error('attribute value must after \"=\"'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\ts =S_TAG_CLOSE;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\tcase S_ATTR:\n\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tel.closed = true;\n\t\t\t\tbreak;\n\t\t\t//case S_EQ:\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\") // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\t\tif(s == S_TAG){\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tif(s === S_ATTR_SPACE){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\t}else{\n\t\t\t\t\tif(!NAMESPACE.isHTML(currentNSMap['']) || !value.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(value, value, start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\t\t\treturn p;\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\t\t\tvar value = source.slice(start, p);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\t//case S_TAG_SPACE:\n\t\t\t\t//case S_EQ:\n\t\t\t\t//case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t//case S_TAG_CLOSE:\n\t\t\t\t\t//ignore warning\n\t\t\t\t}\n\t\t\t}else{//not space\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\t\t\t\tswitch(s){\n\t\t\t\t//case S_TAG:void();break;\n\t\t\t\t//case S_ATTR:void();break;\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tvar tagName =  el.tagName;\n\t\t\t\t\tif (!NAMESPACE.isHTML(currentNSMap['']) || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(attrName, attrName, start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_TAG_SPACE:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_TAG_CLOSE:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}//end outer switch\n\t\t//console.log('p++',p)\n\t\tp++;\n\t}\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el,domBuilder,currentNSMap){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\t//can not set prefix,because prefix !== ''\n\t\ta.localName = localName ;\n\t\t//prefix == null for no ns prefix attribute\n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t//console.log(currentNSMap,0)\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t\t//console.log(currentNSMap,1)\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = NAMESPACE.XMLNS\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value)\n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = NAMESPACE.XML;\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix || '']\n\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\t//no prefix element has default namespace\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\n\t//localNSMap = null\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor (prefix in localNSMap) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\t//parseStack.push(el);\n\t\treturn true;\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\n\t\t\t\t\t//lexHandler.startCDATA();\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\t//lexHandler.endCDATA();\n\t\t\t\t\treturn elEndStart;\n\t\t\t\t//}\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t//}\n\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\t//if(tagName in closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\t//console.log(tagName)\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\n\t\tif(pos<elStartEnd){//\u5fd8\u8bb0\u95ed\u5408\n\t\t\tpos = source.lastIndexOf('</'+tagName)\n\t\t}\n\t\tcloseMap[tagName] =pos\n\t}\n\treturn pos<elStartEnd;\n\t//}\n}\n\nfunction _copy (source, target) {\n\tfor (var n in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, n)) {\n\t\t\ttarget[n] = source[n];\n\t\t}\n\t}\n}\n\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('--\u003e',start+4);\n\t\t\t//append comment source.substring(4,end)//\u003c!--\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\t//error\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]\u003e',start+9);\n\t\t\tdomBuilder.startCDATA();\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\tdomBuilder.endCDATA()\n\t\t\treturn end+3;\n\t\t}\n\t\t//<!DOCTYPE\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId)\n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = false;\n\t\t\tvar sysid = false;\n\t\t\tif(len>3){\n\t\t\t\tif(/^public$/i.test(matchs[2][0])){\n\t\t\t\t\tpubid = matchs[3][0];\n\t\t\t\t\tsysid = len>4 && matchs[4][0];\n\t\t\t\t}else if(/^system$/i.test(matchs[2][0])){\n\t\t\t\t\tsysid = matchs[3][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name, pubid, sysid);\n\t\t\tdomBuilder.endDTD();\n\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction ElementAttributes(){\n\tthis.attributeNames = {}\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\taddValue:function(qName, value, offset) {\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis.attributeNames[qName] = this.length;\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetLocator:function(i){return this[i].locator},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;\n\n};"],
"names":["shadow$provide","global","require","module","exports","ParseError","message","locator","Error","captureStackTrace","XMLReader","parse","source","defaultNSMapCopy","entityMap","domBuilder","errorHandler","entityReplacer","a","k","slice","Object","hasOwnProperty","call","charAt","parseInt","substr","replace","code","String","fromCharCode","error","appendText","end","start","xt","substring","position","characters","p","m","lineEnd","linePattern","exec","lineStart","index","length","lineNumber","columnNumber","parseStack","currentNSMap","closeMap","tagStart","indexOf","match","doc","text","createTextNode","appendChild","currentElement","tagName","config","pop","localNSMap","endMatch","toLowerCase","endElement","uri","localName","prefix","prototype","endPrefixMapping","fatalError","push","parseInstruction","parseDCC","el","ElementAttributes","parseElementStartPart","len","closed","fixSelfClosed","nbsp","warning","locator2","copyLocator","i","offset","appendElement","NAMESPACE","isHTML","parseHtmlSpecialContent","e","Math","max","f","t","addAttribute","qname","value","startIndex","attributeNames","addValue","attrName","s","S_TAG","c","S_ATTR","S_EQ","S_ATTR_SPACE","S_ATTR_END","S_ATTR_NOQUOT_VALUE","setTagName","S_TAG_SPACE","S_TAG_CLOSE","qName","nsp","nsPrefix","_copy","XMLNS","startPrefixMapping","XML","ns","startElement","elStartEnd","test","elEndStart","pos","lastIndexOf","target","n","next","comment","startCDATA","endCDATA","buf","reg","lastIndex","matchs","name","sysid","pubid","lastMatch","startDTD","endDTD","processingInstruction","nameStartChar","nameChar","RegExp","tagNamePattern","defaultNSMap","startDocument","endDocument","getLocalName","getLocator","getQName","getURI","getValue"]
}
