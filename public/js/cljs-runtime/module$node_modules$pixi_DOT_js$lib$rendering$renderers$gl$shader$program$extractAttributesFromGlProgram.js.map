{
"version":3,
"file":"module$node_modules$pixi_DOT_js$lib$rendering$renderers$gl$shader$program$extractAttributesFromGlProgram.js",
"lineCount":30,
"mappings":"AAAAA,cAAA,CAAA,wGAAA,GAA6H,QAAQ,CAACC,MAAD,EAAQC,OAAR,EAAgBC,MAAhB,EAAuBC,OAAvB,CAAgC;AAGrK,MAAIC,6BAA6BH,OAAA,CAAQ,0GAAR,CAAjC,EACII,UAAUJ,OAAA,CAAQ,mFAAR,CADd;AAGA,cAAA;AAoCAE,SAAQG,CAAAA,8BAAR,GAnCAA,QAAuC,CAACC,OAAD,EAAUC,EAAV,EAAcC,cAAA,GAAiB,CAAA,CAA/B,CAAsC;AAC3E,UAAMC,aAAa,EAAnB;AACA,QAAMC,kBAAkBH,EAAGI,CAAAA,mBAAH,CAAuBL,OAAvB,EAAgCC,EAAGK,CAAAA,iBAAnC,CAAxB;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,CAAhB,GAAoBH,eAApB,EAAqCG,CAAA,EAArC,CAA0C;AACxC,YAAMC,aAAaP,EAAGQ,CAAAA,eAAH,CAAmBT,OAAnB,EAA4BO,CAA5B,CAAnB;AACA,UAAIC,UAAWE,CAAAA,IAAKC,CAAAA,UAAhB,CAA2B,KAA3B,CAAJ;AACE;AADF;AAGA,YAAMC,SAASd,OAAQe,CAAAA,mBAAR,CAA4BZ,EAA5B,EAAgCO,UAAWM,CAAAA,IAA3C,CAAf;AACAX,gBAAA,CAAWK,UAAWE,CAAAA,IAAtB,CAAA,GAA8B,CAC5BK,SAAU,CADkB,EAG5BH,MAH4B,EAI5BI,OAAQnB,0BAA2BA,CAAAA,0BAA3B,CAAsDe,MAAtD,CAA8DI,CAAAA,MAJ1C,EAK5BC,OAAQ,CALoB,EAM5BC,SAAU,CAAA,CANkB,EAO5BC,MAAO,CAPqB,CAA9B;AANwC;AAgBpCC,mBAAAA,GAAOC,MAAOD,CAAAA,IAAP,CAAYjB,UAAZ,CAAPiB;AACN,QAAIlB,cAAJ,CAAoB;AAClBkB,qBAAKE,CAAAA,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,CAAA,IAAUD,CAAA,GAAIC,CAAJ,GAAQ,CAAR,GAAY,CAAC,CAAjC,CAAA;AACA,WAASjB,cAAT,GAAa,CAAb,EAAgBA,cAAhB,GAAoBa,eAAKK,CAAAA,MAAzB,EAAiClB,cAAA,EAAjC;AACEJ,kBAAA,CAAWiB,eAAA,CAAKb,cAAL,CAAX,CAAoBQ,CAAAA,QACpB,GAD+BR,cAC/B,EAAAN,EAAGyB,CAAAA,kBAAH,CAAsB1B,OAAtB,EAA+BO,cAA/B,EAAkCa,eAAA,CAAKb,cAAL,CAAlC,CAAA;AAFF;AAIAN,QAAG0B,CAAAA,WAAH,CAAe3B,OAAf,CAAA;AANkB,KAApB;AAQE,WAASO,cAAT,GAAa,CAAb,EAAgBA,cAAhB,GAAoBa,eAAKK,CAAAA,MAAzB,EAAiClB,cAAA,EAAjC;AACEJ,kBAAA,CAAWiB,eAAA,CAAKb,cAAL,CAAX,CAAoBQ,CAAAA,QAApB,GAA+Bd,EAAG2B,CAAAA,iBAAH,CAAqB5B,OAArB,EAA8BoB,eAAA,CAAKb,cAAL,CAA9B,CAA/B;AADF;AARF;AAYA,WAAOJ,UAAP;AAhC2E,GAmC7E;AA1CqK,CAArK;;",
"sources":["node_modules/pixi_DOT_js/lib/rendering/renderers/gl/shader/program/extractAttributesFromGlProgram.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$pixi_DOT_js$lib$rendering$renderers$gl$shader$program$extractAttributesFromGlProgram\"] = function(global,require,module,exports) {\n'use strict';\n\nvar getAttributeInfoFromFormat = require('../../../shared/geometry/utils/getAttributeInfoFromFormat.js');\nvar mapType = require('./mapType.js');\n\n\"use strict\";\nfunction extractAttributesFromGlProgram(program, gl, sortAttributes = false) {\n  const attributes = {};\n  const totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n  for (let i = 0; i < totalAttributes; i++) {\n    const attribData = gl.getActiveAttrib(program, i);\n    if (attribData.name.startsWith(\"gl_\")) {\n      continue;\n    }\n    const format = mapType.mapGlToVertexFormat(gl, attribData.type);\n    attributes[attribData.name] = {\n      location: 0,\n      // set further down..\n      format,\n      stride: getAttributeInfoFromFormat.getAttributeInfoFromFormat(format).stride,\n      offset: 0,\n      instance: false,\n      start: 0\n    };\n  }\n  const keys = Object.keys(attributes);\n  if (sortAttributes) {\n    keys.sort((a, b) => a > b ? 1 : -1);\n    for (let i = 0; i < keys.length; i++) {\n      attributes[keys[i]].location = i;\n      gl.bindAttribLocation(program, i, keys[i]);\n    }\n    gl.linkProgram(program);\n  } else {\n    for (let i = 0; i < keys.length; i++) {\n      attributes[keys[i]].location = gl.getAttribLocation(program, keys[i]);\n    }\n  }\n  return attributes;\n}\n\nexports.extractAttributesFromGlProgram = extractAttributesFromGlProgram;\n//# sourceMappingURL=extractAttributesFromGlProgram.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","getAttributeInfoFromFormat","mapType","extractAttributesFromGlProgram","program","gl","sortAttributes","attributes","totalAttributes","getProgramParameter","ACTIVE_ATTRIBUTES","i","attribData","getActiveAttrib","name","startsWith","format","mapGlToVertexFormat","type","location","stride","offset","instance","start","keys","Object","sort","a","b","length","bindAttribLocation","linkProgram","getAttribLocation"]
}
