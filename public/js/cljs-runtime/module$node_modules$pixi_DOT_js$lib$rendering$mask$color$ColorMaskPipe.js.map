{
"version":3,
"file":"module$node_modules$pixi_DOT_js$lib$rendering$mask$color$ColorMaskPipe.js",
"lineCount":40,
"mappings":"AAAAA,cAAA,CAAA,sEAAA,GAA2F,QAAQ,CAACC,MAAD,EAAQC,OAAR,EAAgBC,MAAhB,EAAuBC,OAAvB,CAAgC;AAG/HC,QAAAA,GAAaH,OAAA,CAAQ,2DAAR,CAAbG;AAEJ,cAAA;AACA,OAAMC,cAAN;AACEC,eAAW,CAACC,QAAD,CAAW;AACpB,UAAKC,CAAAA,WAAL,GAAmB,EAAnB;AAEA,UAAKC,CAAAA,aAAL,GADA,IAAKC,CAAAA,gBACL,GADwB,CACxB;AACA,UAAKC,CAAAA,SAAL,GAAiBJ,QAAjB;AAJoB;AAMtBK,cAAU,EAAG;AACX,UAAKJ,CAAAA,WAAL,CAAiB,CAAjB,CAAA,GAAsB,EAAtB;AACA,UAAKE,CAAAA,gBAAL,GAAwB,CAAxB;AACA,UAAKD,CAAAA,aAAL,GAAqB,EAArB;AAHW;AAKbI,QAAI,CAACC,IAAD,EAAOC,UAAP,EAAmBC,cAAnB,CAAmC;AACpB,UAAKL,CAAAA,SACbM,CAAAA,WAAYC,CAAAA,KAAMC,CAAAA,KAA3B,CAAiCH,cAAjC,CAAA;AACMI,gBAAAA,GAAa,IAAKZ,CAAAA,WAAlBY;AACNA,gBAAA,CAAW,IAAKV,CAAAA,gBAAhB,CAAA,GAAoCU,UAAA,CAAW,IAAKV,CAAAA,gBAAhB,GAAmC,CAAnC,CAApC,GAA4EI,IAAKA,CAAAA,IAAjF;AACMO,UAAAA,GAAe,IAAKb,CAAAA,WAAL,CAAiB,IAAKE,CAAAA,gBAAtB,CAAfW;AACFA,UAAJ,KAAqB,IAAKZ,CAAAA,aAA1B,KACE,IAAKA,CAAAA,aACL,GADqBY,IACrB,EAAAL,cAAeM,CAAAA,GAAf,CAAmB,CACjBC,aAAc,WADG,EAEjBC,UAAWH,IAFM,EAGjBI,UAAW,CAAA,CAHM,CAAnB,CAFF;AAQA,UAAKf,CAAAA,gBAAL,EAAA;AAdqC;AAgBvCgB,OAAG,CAACC,KAAD,EAAQZ,UAAR,EAAoBC,cAApB,CAAoC;AACpB,UAAKL,CAAAA,SACbM,CAAAA,WAAYC,CAAAA,KAAMC,CAAAA,KAA3B,CAAiCH,cAAjC,CAAA;AACMI,WAAAA,GAAa,IAAKZ,CAAAA,WAAlBY;AACN,UAAKV,CAAAA,gBAAL,EAAA;AACMW,WAAAA,GAAeD,KAAA,CAAW,IAAKV,CAAAA,gBAAhB,GAAmC,CAAnC,CAAfW;AACFA,WAAJ,KAAqB,IAAKZ,CAAAA,aAA1B,KACE,IAAKA,CAAAA,aACL,GADqBY,KACrB,EAAAL,cAAeM,CAAAA,GAAf,CAAmB,CACjBC,aAAc,WADG,EAEjBC,UAAWH,KAFM,EAGjBI,UAAW,CAAA,CAHM,CAAnB,CAFF;AANqC;AAevCG,WAAO,CAACC,WAAD,CAAc;AACF,UAAKlB,CAAAA,SACba,CAAAA,SAAUM,CAAAA,OAAnB,CAA2BD,WAAYL,CAAAA,SAAvC,CAAA;AAFmB;AAIrBO,WAAO,EAAG;AACR,UAAKvB,CAAAA,WAAL,GAAmB,IAAnB;AADQ;AA/CZ;AAoDAH,eAAc2B,CAAAA,SAAd,GAA0B,CACxBC,KAAM,CACJ7B,MAAW8B,CAAAA,aAAcC,CAAAA,UADrB,EAEJ/B,MAAW8B,CAAAA,aAAcE,CAAAA,WAFrB,EAGJhC,MAAW8B,CAAAA,aAAcG,CAAAA,WAHrB,CADkB,EAMxBC,KAAM,WANkB,CAA1B;AASAnC,SAAQE,CAAAA,aAAR,GAAwBA,aAAxB;AAnEmI,CAAnI;;",
"sources":["node_modules/pixi_DOT_js/lib/rendering/mask/color/ColorMaskPipe.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$pixi_DOT_js$lib$rendering$mask$color$ColorMaskPipe\"] = function(global,require,module,exports) {\n'use strict';\n\nvar Extensions = require('../../../extensions/Extensions.js');\n\n\"use strict\";\nclass ColorMaskPipe {\n  constructor(renderer) {\n    this._colorStack = [];\n    this._colorStackIndex = 0;\n    this._currentColor = 0;\n    this._renderer = renderer;\n  }\n  buildStart() {\n    this._colorStack[0] = 15;\n    this._colorStackIndex = 1;\n    this._currentColor = 15;\n  }\n  push(mask, _container, instructionSet) {\n    const renderer = this._renderer;\n    renderer.renderPipes.batch.break(instructionSet);\n    const colorStack = this._colorStack;\n    colorStack[this._colorStackIndex] = colorStack[this._colorStackIndex - 1] & mask.mask;\n    const currentColor = this._colorStack[this._colorStackIndex];\n    if (currentColor !== this._currentColor) {\n      this._currentColor = currentColor;\n      instructionSet.add({\n        renderPipeId: \"colorMask\",\n        colorMask: currentColor,\n        canBundle: false\n      });\n    }\n    this._colorStackIndex++;\n  }\n  pop(_mask, _container, instructionSet) {\n    const renderer = this._renderer;\n    renderer.renderPipes.batch.break(instructionSet);\n    const colorStack = this._colorStack;\n    this._colorStackIndex--;\n    const currentColor = colorStack[this._colorStackIndex - 1];\n    if (currentColor !== this._currentColor) {\n      this._currentColor = currentColor;\n      instructionSet.add({\n        renderPipeId: \"colorMask\",\n        colorMask: currentColor,\n        canBundle: false\n      });\n    }\n  }\n  execute(instruction) {\n    const renderer = this._renderer;\n    renderer.colorMask.setMask(instruction.colorMask);\n  }\n  destroy() {\n    this._colorStack = null;\n  }\n}\n/** @ignore */\nColorMaskPipe.extension = {\n  type: [\n    Extensions.ExtensionType.WebGLPipes,\n    Extensions.ExtensionType.WebGPUPipes,\n    Extensions.ExtensionType.CanvasPipes\n  ],\n  name: \"colorMask\"\n};\n\nexports.ColorMaskPipe = ColorMaskPipe;\n//# sourceMappingURL=ColorMaskPipe.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","Extensions","ColorMaskPipe","constructor","renderer","_colorStack","_currentColor","_colorStackIndex","_renderer","buildStart","push","mask","_container","instructionSet","renderPipes","batch","break","colorStack","currentColor","add","renderPipeId","colorMask","canBundle","pop","_mask","execute","instruction","setMask","destroy","extension","type","ExtensionType","WebGLPipes","WebGPUPipes","CanvasPipes","name"]
}
