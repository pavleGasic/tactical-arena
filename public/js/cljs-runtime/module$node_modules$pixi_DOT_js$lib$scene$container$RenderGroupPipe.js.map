{
"version":3,
"file":"module$node_modules$pixi_DOT_js$lib$scene$container$RenderGroupPipe.js",
"lineCount":57,
"mappings":"AAAAA,cAAA,CAAA,mEAAA,GAAwF,QAAQ,CAACC,MAAD,EAAQC,OAAR,EAAgBC,MAAhB,EAAuBC,OAAvB,CAAgC;AAG5HC,QAAAA,GAAaH,OAAA,CAAQ,2DAAR,CAAbG;AACAC,QAAAA,GAASJ,OAAA,CAAQ,yDAAR,CAATI;AACJ,MAAIC,YAAYL,OAAA,CAAQ,0DAAR,CAAhB,EACIM,kBAAkBN,OAAA,CAAQ,kEAAR,CADtB,EAEIO,sBAAsBP,OAAA,CAAQ,+EAAR,CAF1B;AAIA,cAAA;AACA,QAAMQ,aAAa,IAAIJ,MAAOA,CAAAA,MAAX,EAAnB;AACA,OAAMK,gBAAN;AACEC,eAAW,CAACC,QAAD,CAAW;AACpB,UAAKC,CAAAA,SAAL,GAAiBD,QAAjB;AADoB;AAGtBE,kBAAc,CAACC,WAAD,EAAcC,cAAd,CAA8B;AACtCD,iBAAYE,CAAAA,iBAAhB,GACE,IAAKC,CAAAA,4BAAL,CAAkCH,WAAlC,EAA+CC,cAA/C,CADF,GAGE,IAAKG,CAAAA,oBAAL,CAA0BJ,WAA1B,EAAuCC,cAAvC,CAHF;AAD0C;AAO5CI,WAAO,CAACL,WAAD,CAAc;AACdA,iBAAYM,CAAAA,YAAjB,KAEIN,WAAYE,CAAAA,iBAAhB,GACE,IAAKK,CAAAA,sBAAL,CAA4BP,WAA5B,CADF,GAGE,IAAKQ,CAAAA,cAAL,CAAoBR,WAApB,CALF;AADmB;AASrBS,WAAO,EAAG;AACR,UAAKX,CAAAA,SAAL,GAAiB,IAAjB;AADQ;AAGVM,wBAAoB,CAACJ,WAAD,EAAcC,cAAd,CAA8B;AAChD,UAAKH,CAAAA,SAAUY,CAAAA,WAAYC,CAAAA,KAAMC,CAAAA,KAAjC,CAAuCX,cAAvC,CAAA;AACID,iBAAYa,CAAAA,qBAAhB,KACEtB,SAAUuB,CAAAA,OAAQC,CAAAA,MAAlB,CAAyBf,WAAYa,CAAAA,qBAArC,CACA,EAAAb,WAAYa,CAAAA,qBAAZ,GAAoC,IAFtC;AAIAZ,oBAAee,CAAAA,GAAf,CAAmBhB,WAAnB,CAAA;AANgD;AAQlDG,gCAA4B,CAACH,WAAD,EAAcC,cAAd,CAA8B;AACxD,YAAMgB,uBAAuBjB,WAAYa,CAAAA,qBAAnCI,KAA6DjB,WAAYa,CAAAA,qBAAzEI,GAAiG1B,SAAUuB,CAAAA,OAAQI,CAAAA,GAAlB,CAAsB1B,eAAgBA,CAAAA,eAAtC,CAAjGyB,CAAN;AACAA,0BAAqBE,CAAAA,UAArB,GAAkCnB,WAAYoB,CAAAA,IAA9C;AACAH,0BAAqBI,CAAAA,SAArB,GAAiCrB,WAAYoB,CAAAA,IAAKE,CAAAA,sBAAlD;AACAL,0BAAqBM,CAAAA,OAArB,GAA+BvB,WAAYuB,CAAAA,OAA3C;AACAN,0BAAqBO,CAAAA,MAArB,GAA8BxB,WAAYyB,CAAAA,cAA1C;AACAxB,oBAAee,CAAAA,GAAf,CAAmBhB,WAAnB,CAAA;AACA,UAAKF,CAAAA,SAAUY,CAAAA,WAAYC,CAAAA,KAAMe,CAAAA,UAAjC,CAA4CT,oBAA5C,EAAkEhB,cAAlE,CAAA;AAPwD;AAS1DM,0BAAsB,CAACP,WAAD,CAAc;AAClC,UAAIA,WAAY2B,CAAAA,kBAAhB,CAAoC;AAClC3B,mBAAY2B,CAAAA,kBAAZ,GAAiC,CAAA,CAAjC;AACA,cAAMC,uBAAuBlC,UAAWmC,CAAAA,QAAX,EAAsBC,CAAAA,SAAtB,CAC3B,CAAC9B,WAAYyB,CAAAA,cAAeM,CAAAA,CADD,EAE3B,CAAC/B,WAAYyB,CAAAA,cAAeO,CAAAA,CAFD,CAA7B;AAIA,YAAKlC,CAAAA,SAAUmC,CAAAA,YAAaC,CAAAA,IAA5B,CAAiClC,WAAYuB,CAAAA,OAA7C,EAAsD,CAAA,CAAtD,EAA4D,IAA5D,EAAkEvB,WAAYuB,CAAAA,OAAQY,CAAAA,KAAtF,CAAA;AACA,YAAKrC,CAAAA,SAAUsC,CAAAA,cAAeF,CAAAA,IAA9B,CAAmC,CACjCN,oBADiC,EAEjCS,WAAY,UAFqB,CAAnC,CAAA;AAIA5C,2BAAoBA,CAAAA,mBAApB,CAAwCO,WAAxC,EAAqD,IAAKF,CAAAA,SAAUY,CAAAA,WAApE,CAAA;AACA,YAAKZ,CAAAA,SAAUmC,CAAAA,YAAaK,CAAAA,gBAA5B,EAAA;AACA,YAAKxC,CAAAA,SAAUmC,CAAAA,YAAaM,CAAAA,GAA5B,EAAA;AACA,YAAKzC,CAAAA,SAAUsC,CAAAA,cAAeG,CAAAA,GAA9B,EAAA;AAdkC;AAgBpCvC,iBAAYa,CAAAA,qBAAsB2B,CAAAA,QAASC,CAAAA,aAA3C,CAAyDzC,WAAYa,CAAAA,qBAArE,CAAA;AACAb,iBAAYa,CAAAA,qBAAsB2B,CAAAA,QAASE,CAAAA,QAASC,CAAAA,OAApD,CAA4D,CAA5D,CAA+DC,CAAAA,MAA/D,EAAA;AAlBkC;AAoBpCpC,kBAAc,CAACR,WAAD,CAAc;AAC1B,UAAKF,CAAAA,SAAUsC,CAAAA,cAAeF,CAAAA,IAA9B,CAAmC,CACjCN,qBAAsB5B,WAAY6C,CAAAA,6BADD,EAEjCR,WAAYrC,WAAY8C,CAAAA,eAFS,CAAnC,CAAA;AAIArD,yBAAoBA,CAAAA,mBAApB,CAAwCO,WAAxC,EAAqD,IAAKF,CAAAA,SAAUY,CAAAA,WAApE,CAAA;AACA,UAAKZ,CAAAA,SAAUsC,CAAAA,cAAeG,CAAAA,GAA9B,EAAA;AAN0B;AA5D9B;AAqEA5C,iBAAgBoD,CAAAA,SAAhB,GAA4B,CAC1BC,KAAM,CACJ3D,MAAW4D,CAAAA,aAAcC,CAAAA,UADrB,EAEJ7D,MAAW4D,CAAAA,aAAcE,CAAAA,WAFrB,EAGJ9D,MAAW4D,CAAAA,aAAcG,CAAAA,WAHrB,CADoB,EAM1BC,KAAM,aANoB,CAA5B;AASAjE,SAAQO,CAAAA,eAAR,GAA0BA,eAA1B;AAzFgI,CAAhI;;",
"sources":["node_modules/pixi_DOT_js/lib/scene/container/RenderGroupPipe.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$pixi_DOT_js$lib$scene$container$RenderGroupPipe\"] = function(global,require,module,exports) {\n'use strict';\n\nvar Extensions = require('../../extensions/Extensions.js');\nvar Matrix = require('../../maths/matrix/Matrix.js');\nvar PoolGroup = require('../../utils/pool/PoolGroup.js');\nvar BatchableSprite = require('../sprite/BatchableSprite.js');\nvar executeInstructions = require('./utils/executeInstructions.js');\n\n\"use strict\";\nconst tempMatrix = new Matrix.Matrix();\nclass RenderGroupPipe {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  addRenderGroup(renderGroup, instructionSet) {\n    if (renderGroup.isCachedAsTexture) {\n      this._addRenderableCacheAsTexture(renderGroup, instructionSet);\n    } else {\n      this._addRenderableDirect(renderGroup, instructionSet);\n    }\n  }\n  execute(renderGroup) {\n    if (!renderGroup.isRenderable)\n      return;\n    if (renderGroup.isCachedAsTexture) {\n      this._executeCacheAsTexture(renderGroup);\n    } else {\n      this._executeDirect(renderGroup);\n    }\n  }\n  destroy() {\n    this._renderer = null;\n  }\n  _addRenderableDirect(renderGroup, instructionSet) {\n    this._renderer.renderPipes.batch.break(instructionSet);\n    if (renderGroup._batchableRenderGroup) {\n      PoolGroup.BigPool.return(renderGroup._batchableRenderGroup);\n      renderGroup._batchableRenderGroup = null;\n    }\n    instructionSet.add(renderGroup);\n  }\n  _addRenderableCacheAsTexture(renderGroup, instructionSet) {\n    const batchableRenderGroup = renderGroup._batchableRenderGroup ?? (renderGroup._batchableRenderGroup = PoolGroup.BigPool.get(BatchableSprite.BatchableSprite));\n    batchableRenderGroup.renderable = renderGroup.root;\n    batchableRenderGroup.transform = renderGroup.root.relativeGroupTransform;\n    batchableRenderGroup.texture = renderGroup.texture;\n    batchableRenderGroup.bounds = renderGroup._textureBounds;\n    instructionSet.add(renderGroup);\n    this._renderer.renderPipes.batch.addToBatch(batchableRenderGroup, instructionSet);\n  }\n  _executeCacheAsTexture(renderGroup) {\n    if (renderGroup.textureNeedsUpdate) {\n      renderGroup.textureNeedsUpdate = false;\n      const worldTransformMatrix = tempMatrix.identity().translate(\n        -renderGroup._textureBounds.x,\n        -renderGroup._textureBounds.y\n      );\n      this._renderer.renderTarget.push(renderGroup.texture, true, null, renderGroup.texture.frame);\n      this._renderer.globalUniforms.push({\n        worldTransformMatrix,\n        worldColor: 4294967295\n      });\n      executeInstructions.executeInstructions(renderGroup, this._renderer.renderPipes);\n      this._renderer.renderTarget.finishRenderPass();\n      this._renderer.renderTarget.pop();\n      this._renderer.globalUniforms.pop();\n    }\n    renderGroup._batchableRenderGroup._batcher.updateElement(renderGroup._batchableRenderGroup);\n    renderGroup._batchableRenderGroup._batcher.geometry.buffers[0].update();\n  }\n  _executeDirect(renderGroup) {\n    this._renderer.globalUniforms.push({\n      worldTransformMatrix: renderGroup.inverseParentTextureTransform,\n      worldColor: renderGroup.worldColorAlpha\n    });\n    executeInstructions.executeInstructions(renderGroup, this._renderer.renderPipes);\n    this._renderer.globalUniforms.pop();\n  }\n}\nRenderGroupPipe.extension = {\n  type: [\n    Extensions.ExtensionType.WebGLPipes,\n    Extensions.ExtensionType.WebGPUPipes,\n    Extensions.ExtensionType.CanvasPipes\n  ],\n  name: \"renderGroup\"\n};\n\nexports.RenderGroupPipe = RenderGroupPipe;\n//# sourceMappingURL=RenderGroupPipe.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","Extensions","Matrix","PoolGroup","BatchableSprite","executeInstructions","tempMatrix","RenderGroupPipe","constructor","renderer","_renderer","addRenderGroup","renderGroup","instructionSet","isCachedAsTexture","_addRenderableCacheAsTexture","_addRenderableDirect","execute","isRenderable","_executeCacheAsTexture","_executeDirect","destroy","renderPipes","batch","break","_batchableRenderGroup","BigPool","return","add","batchableRenderGroup","get","renderable","root","transform","relativeGroupTransform","texture","bounds","_textureBounds","addToBatch","textureNeedsUpdate","worldTransformMatrix","identity","translate","x","y","renderTarget","push","frame","globalUniforms","worldColor","finishRenderPass","pop","_batcher","updateElement","geometry","buffers","update","inverseParentTextureTransform","worldColorAlpha","extension","type","ExtensionType","WebGLPipes","WebGPUPipes","CanvasPipes","name"]
}
