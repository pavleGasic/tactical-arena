{
"version":3,
"file":"module$node_modules$pixi_DOT_js$lib$rendering$renderers$gl$shader$GlUniformGroupSystem.js",
"lineCount":46,
"mappings":"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",
"sources":["node_modules/pixi_DOT_js/lib/rendering/renderers/gl/shader/GlUniformGroupSystem.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$pixi_DOT_js$lib$rendering$renderers$gl$shader$GlUniformGroupSystem\"] = function(global,require,module,exports) {\n'use strict';\n\nvar Extensions = require('../../../../extensions/Extensions.js');\nvar generateUniformsSync = require('./utils/generateUniformsSync.js');\n\n\"use strict\";\nclass GlUniformGroupSystem {\n  /** @param renderer - The renderer this System works for. */\n  constructor(renderer) {\n    /** Cache to holds the generated functions. Stored against UniformObjects unique signature. */\n    this._cache = {};\n    this._uniformGroupSyncHash = {};\n    this._renderer = renderer;\n    this.gl = null;\n    this._cache = {};\n  }\n  contextChange(gl) {\n    this.gl = gl;\n  }\n  /**\n   * Uploads the uniforms values to the currently bound shader.\n   * @param group - the uniforms values that be applied to the current shader\n   * @param program\n   * @param syncData\n   * @param syncData.textureCount\n   */\n  updateUniformGroup(group, program, syncData) {\n    const programData = this._renderer.shader._getProgramData(program);\n    if (!group.isStatic || group._dirtyId !== programData.uniformDirtyGroups[group.uid]) {\n      programData.uniformDirtyGroups[group.uid] = group._dirtyId;\n      const syncFunc = this._getUniformSyncFunction(group, program);\n      syncFunc(programData.uniformData, group.uniforms, this._renderer, syncData);\n    }\n  }\n  /**\n   * Overridable by the pixi.js/unsafe-eval package to use static syncUniforms instead.\n   * @param group\n   * @param program\n   */\n  _getUniformSyncFunction(group, program) {\n    return this._uniformGroupSyncHash[group._signature]?.[program._key] || this._createUniformSyncFunction(group, program);\n  }\n  _createUniformSyncFunction(group, program) {\n    const uniformGroupSyncHash = this._uniformGroupSyncHash[group._signature] || (this._uniformGroupSyncHash[group._signature] = {});\n    const id = this._getSignature(group, program._uniformData, \"u\");\n    if (!this._cache[id]) {\n      this._cache[id] = this._generateUniformsSync(group, program._uniformData);\n    }\n    uniformGroupSyncHash[program._key] = this._cache[id];\n    return uniformGroupSyncHash[program._key];\n  }\n  _generateUniformsSync(group, uniformData) {\n    return generateUniformsSync.generateUniformsSync(group, uniformData);\n  }\n  /**\n   * Takes a uniform group and data and generates a unique signature for them.\n   * @param group - The uniform group to get signature of\n   * @param group.uniforms\n   * @param uniformData - Uniform information generated by the shader\n   * @param preFix\n   * @returns Unique signature of the uniform group\n   */\n  _getSignature(group, uniformData, preFix) {\n    const uniforms = group.uniforms;\n    const strings = [`${preFix}-`];\n    for (const i in uniforms) {\n      strings.push(i);\n      if (uniformData[i]) {\n        strings.push(uniformData[i].type);\n      }\n    }\n    return strings.join(\"-\");\n  }\n  /** Destroys this System and removes all its textures. */\n  destroy() {\n    this._renderer = null;\n    this._cache = null;\n  }\n}\n/** @ignore */\nGlUniformGroupSystem.extension = {\n  type: [\n    Extensions.ExtensionType.WebGLSystem\n  ],\n  name: \"uniformGroup\"\n};\n\nexports.GlUniformGroupSystem = GlUniformGroupSystem;\n//# sourceMappingURL=GlUniformGroupSystem.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","Extensions","generateUniformsSync","GlUniformGroupSystem","constructor","renderer","_uniformGroupSyncHash","_renderer","gl","_cache","contextChange","updateUniformGroup","group","program","syncData","programData","shader","_getProgramData","isStatic","_dirtyId","uniformDirtyGroups","uid","_getUniformSyncFunction","syncFunc","uniformData","uniforms","_signature","_key","_createUniformSyncFunction","uniformGroupSyncHash","id","_getSignature","_uniformData","_generateUniformsSync","preFix","strings","i","push","type","join","destroy","extension","ExtensionType","WebGLSystem","name"]
}
