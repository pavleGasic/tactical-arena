{
"version":3,
"file":"module$node_modules$pixi_DOT_js$lib$utils$browser$detectVideoAlphaMode.js",
"lineCount":40,
"mappings":"AAAAA,cAAA,CAAA,sEAAA,GAA2F,QAAQ,CAACC,MAAD,EAAQC,OAAR,EAAgBC,MAAhB,EAAuBC,OAAvB,CAAgC;AAInI,MAAIC,OAAJ;AA6CAD,SAAQE,CAAAA,oBAAR,GA5CAA,cAAmC,EAAG;AACpCD,WAAA,KAAYA,OAAZ,GAAuB,MAAM,EAAN,IAAY;AAEjC,YAAME,KADSC,QAASC,CAAAA,aAATC,CAAuB,QAAvBA,CACGC,CAAAA,UAAP,CAAkB,OAAlB,CAAX;AACA,UAAI,CAACJ,EAAL;AACE,eAAO,6BAAP;AADF;AAGA,UAAMK,QAAQ,MAAM,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AAC3C,cAAMC,SAASP,QAASC,CAAAA,aAAT,CAAuB,OAAvB,CAAf;AACAM,cAAOC,CAAAA,YAAP,GAAsB,EAAAC,IAAMH,OAAA,CAAQC,MAAR,CAA5B;AACAA,cAAOG,CAAAA,OAAP,GAAiB,EAAAC,IAAML,OAAA,CAAQ,IAAR,CAAvB;AACAC,cAAOK,CAAAA,QAAP,GAAkB,CAAA,CAAlB;AACAL,cAAOM,CAAAA,WAAP,GAAqB,WAArB;AACAN,cAAOO,CAAAA,OAAP,GAAiB,MAAjB;AACAP,cAAOQ,CAAAA,GAAP,GAAa,4sBAAb;AACAR,cAAOS,CAAAA,IAAP,EAAA;AAR2C,OAAzB,CAApB;AAUA,UAAI,CAACZ,KAAL;AACE,eAAO,6BAAP;AADF;AAGA,YAAMa,UAAUlB,EAAGmB,CAAAA,aAAH,EAAhB;AACAnB,QAAGoB,CAAAA,WAAH,CAAepB,EAAGqB,CAAAA,UAAlB,EAA8BH,OAA9B,CAAA;AACA,YAAMI,cAActB,EAAGuB,CAAAA,iBAAH,EAApB;AACAvB,QAAGwB,CAAAA,eAAH,CAAmBxB,EAAGyB,CAAAA,WAAtB,EAAmCH,WAAnC,CAAA;AACAtB,QAAG0B,CAAAA,oBAAH,CACE1B,EAAGyB,CAAAA,WADL,EAEEzB,EAAG2B,CAAAA,iBAFL,EAGE3B,EAAGqB,CAAAA,UAHL,EAIEH,OAJF,EAKE,CALF,CAAA;AAOAlB,QAAG4B,CAAAA,WAAH,CAAe5B,EAAG6B,CAAAA,8BAAlB,EAAkD,CAAA,CAAlD,CAAA;AACA7B,QAAG4B,CAAAA,WAAH,CAAe5B,EAAG8B,CAAAA,kCAAlB,EAAsD9B,EAAG+B,CAAAA,IAAzD,CAAA;AACA/B,QAAGgC,CAAAA,UAAH,CAAchC,EAAGqB,CAAAA,UAAjB,EAA6B,CAA7B,EAAgCrB,EAAGiC,CAAAA,IAAnC,EAAyCjC,EAAGiC,CAAAA,IAA5C,EAAkDjC,EAAGkC,CAAAA,aAArD,EAAoE7B,KAApE,CAAA;AACM8B,WAAAA,GAAQ,IAAIC,UAAJ,CAAe,CAAf,CAARD;AACNnC,QAAGqC,CAAAA,UAAH,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0BrC,EAAGiC,CAAAA,IAA7B,EAAmCjC,EAAGkC,CAAAA,aAAtC,EAAqDC,KAArD,CAAA;AACAnC,QAAGsC,CAAAA,iBAAH,CAAqBhB,WAArB,CAAA;AACAtB,QAAGuC,CAAAA,aAAH,CAAiBrB,OAAjB,CAAA;AACAlB,QAAGwC,CAAAA,YAAH,CAAgB,oBAAhB,CAAuCC,EAAAA,WAAvC,EAAA;AACA,aAAON,KAAA,CAAM,CAAN,CAAA,IAAYA,KAAA,CAAM,CAAN,CAAZ,GAAuB,qBAAvB,GAA+C,6BAAtD;AAtCiC,KAAZ,CAAD,EAAtB;AAwCA,WAAOrC,OAAP;AAzCoC,GA4CtC;AAjDmI,CAAnI;;",
"sources":["node_modules/pixi_DOT_js/lib/utils/browser/detectVideoAlphaMode.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$pixi_DOT_js$lib$utils$browser$detectVideoAlphaMode\"] = function(global,require,module,exports) {\n'use strict';\n\n\"use strict\";\nlet promise;\nasync function detectVideoAlphaMode() {\n  promise ?? (promise = (async () => {\n    const canvas = document.createElement(\"canvas\");\n    const gl = canvas.getContext(\"webgl\");\n    if (!gl) {\n      return \"premultiply-alpha-on-upload\";\n    }\n    const video = await new Promise((resolve) => {\n      const video2 = document.createElement(\"video\");\n      video2.onloadeddata = () => resolve(video2);\n      video2.onerror = () => resolve(null);\n      video2.autoplay = false;\n      video2.crossOrigin = \"anonymous\";\n      video2.preload = \"auto\";\n      video2.src = \"data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=\";\n      video2.load();\n    });\n    if (!video) {\n      return \"premultiply-alpha-on-upload\";\n    }\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    const framebuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      texture,\n      0\n    );\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n    gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, gl.NONE);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, video);\n    const pixel = new Uint8Array(4);\n    gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixel);\n    gl.deleteFramebuffer(framebuffer);\n    gl.deleteTexture(texture);\n    gl.getExtension(\"WEBGL_lose_context\")?.loseContext();\n    return pixel[0] <= pixel[3] ? \"premultiplied-alpha\" : \"premultiply-alpha-on-upload\";\n  })());\n  return promise;\n}\n\nexports.detectVideoAlphaMode = detectVideoAlphaMode;\n//# sourceMappingURL=detectVideoAlphaMode.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","promise","detectVideoAlphaMode","gl","document","createElement","canvas","getContext","video","Promise","resolve","video2","onloadeddata","video2.onloadeddata","onerror","video2.onerror","autoplay","crossOrigin","preload","src","load","texture","createTexture","bindTexture","TEXTURE_2D","framebuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_COLORSPACE_CONVERSION_WEBGL","NONE","texImage2D","RGBA","UNSIGNED_BYTE","pixel","Uint8Array","readPixels","deleteFramebuffer","deleteTexture","getExtension","loseContext"]
}
