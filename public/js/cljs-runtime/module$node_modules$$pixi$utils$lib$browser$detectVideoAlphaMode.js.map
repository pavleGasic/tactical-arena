{
"version":3,
"file":"module$node_modules$$pixi$utils$lib$browser$detectVideoAlphaMode.js",
"lineCount":36,
"mappings":"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",
"sources":["node_modules/@pixi/utils/lib/browser/detectVideoAlphaMode.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$pixi$utils$lib$browser$detectVideoAlphaMode\"] = function(global,require,module,exports) {\n\"use strict\";\nvar constants = require(\"@pixi/constants\");\nlet promise;\nasync function detectVideoAlphaMode() {\n  return promise ?? (promise = (async () => {\n    const gl = document.createElement(\"canvas\").getContext(\"webgl\");\n    if (!gl)\n      return constants.ALPHA_MODES.UNPACK;\n    const video = await new Promise((resolve) => {\n      const video2 = document.createElement(\"video\");\n      video2.onloadeddata = () => resolve(video2), video2.onerror = () => resolve(null), video2.autoplay = !1, video2.crossOrigin = \"anonymous\", video2.preload = \"auto\", video2.src = \"data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=\", video2.load();\n    });\n    if (!video)\n      return constants.ALPHA_MODES.UNPACK;\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    const framebuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer), gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      texture,\n      0\n    ), gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !1), gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, gl.NONE), gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, video);\n    const pixel = new Uint8Array(4);\n    return gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixel), gl.deleteFramebuffer(framebuffer), gl.deleteTexture(texture), gl.getExtension(\"WEBGL_lose_context\")?.loseContext(), pixel[0] <= pixel[3] ? constants.ALPHA_MODES.PMA : constants.ALPHA_MODES.UNPACK;\n  })()), promise;\n}\nexports.detectVideoAlphaMode = detectVideoAlphaMode;\n//# sourceMappingURL=detectVideoAlphaMode.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","constants","promise","detectVideoAlphaMode","gl","document","createElement","getContext","ALPHA_MODES","UNPACK","video","Promise","resolve","video2","onloadeddata","video2.onloadeddata","onerror","video2.onerror","autoplay","crossOrigin","preload","src","load","texture","createTexture","bindTexture","TEXTURE_2D","framebuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_COLORSPACE_CONVERSION_WEBGL","NONE","texImage2D","RGBA","UNSIGNED_BYTE","pixel","Uint8Array","readPixels","deleteFramebuffer","deleteTexture","getExtension","loseContext","PMA"]
}
