{
"version":3,
"file":"module$node_modules$pixi_DOT_js$lib$utils$canvas$getCanvasBoundingBox.js",
"lineCount":49,
"mappings":"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",
"sources":["node_modules/pixi_DOT_js/lib/utils/canvas/getCanvasBoundingBox.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$pixi_DOT_js$lib$utils$canvas$getCanvasBoundingBox\"] = function(global,require,module,exports) {\n'use strict';\n\nvar Rectangle = require('../../maths/shapes/Rectangle.js');\n\n\"use strict\";\nfunction checkRow(data, width, y) {\n  for (let x = 0, index = 4 * y * width; x < width; ++x, index += 4) {\n    if (data[index + 3] !== 0)\n      return false;\n  }\n  return true;\n}\nfunction checkColumn(data, width, x, top, bottom) {\n  const stride = 4 * width;\n  for (let y = top, index = top * stride + 4 * x; y <= bottom; ++y, index += stride) {\n    if (data[index + 3] !== 0)\n      return false;\n  }\n  return true;\n}\nfunction getCanvasBoundingBox(canvas, resolution = 1) {\n  const { width, height } = canvas;\n  const context = canvas.getContext(\"2d\", {\n    willReadFrequently: true\n  });\n  if (context === null) {\n    throw new TypeError(\"Failed to get canvas 2D context\");\n  }\n  const imageData = context.getImageData(0, 0, width, height);\n  const data = imageData.data;\n  let left = 0;\n  let top = 0;\n  let right = width - 1;\n  let bottom = height - 1;\n  while (top < height && checkRow(data, width, top))\n    ++top;\n  if (top === height)\n    return Rectangle.Rectangle.EMPTY;\n  while (checkRow(data, width, bottom))\n    --bottom;\n  while (checkColumn(data, width, left, top, bottom))\n    ++left;\n  while (checkColumn(data, width, right, top, bottom))\n    --right;\n  ++right;\n  ++bottom;\n  return new Rectangle.Rectangle(left / resolution, top / resolution, (right - left) / resolution, (bottom - top) / resolution);\n}\n\nexports.getCanvasBoundingBox = getCanvasBoundingBox;\n//# sourceMappingURL=getCanvasBoundingBox.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","checkRow","data","width","y","x","index","checkColumn","top","bottom","stride","Rectangle","getCanvasBoundingBox","canvas","resolution","height","context","getContext","willReadFrequently","TypeError","getImageData","imageData","left","right","EMPTY"]
}
