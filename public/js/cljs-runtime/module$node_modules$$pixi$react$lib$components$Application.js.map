{
"version":3,
"file":"module$node_modules$$pixi$react$lib$components$Application.js",
"lineCount":63,
"mappings":"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",
"sources":["node_modules/@pixi/react/lib/components/Application.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$pixi$react$lib$components$Application\"] = function(global,require,module,exports) {\n'use strict';\n\nvar jsxRuntime = require('react/jsx-runtime');\nvar itsFine = require('its-fine');\nvar pixi_js = require('pixi.js');\nvar react = require('react');\nvar createRoot = require('../core/createRoot.js');\nvar roots = require('../core/roots.js');\nvar processUnmountQueue = require('../helpers/processUnmountQueue.js');\nvar queueForUnmount = require('../helpers/queueForUnmount.js');\nvar unqueueForUnmount = require('../helpers/unqueueForUnmount.js');\nvar useIsomorphicLayoutEffect = require('../hooks/useIsomorphicLayoutEffect.js');\n\n\"use strict\";\nconst originalDefaultTextStyle = { ...pixi_js.TextStyle.defaultTextStyle };\nconst ApplicationImplementation = react.forwardRef(function Application2(props, forwardedRef) {\n  const {\n    children,\n    className,\n    defaultTextStyle,\n    extensions,\n    onInit,\n    resizeTo,\n    ...applicationProps\n  } = props;\n  const Bridge = itsFine.useContextBridge();\n  const applicationRef = react.useRef(null);\n  const canvasRef = react.useRef(null);\n  const extensionsRef = react.useRef(/* @__PURE__ */ new Set());\n  react.useImperativeHandle(forwardedRef, () => ({\n    getApplication() {\n      return applicationRef.current;\n    },\n    getCanvas() {\n      return canvasRef.current;\n    }\n  }));\n  const updateResizeTo = react.useCallback(() => {\n    const application = applicationRef.current;\n    if (application) {\n      if (resizeTo) {\n        if (\"current\" in resizeTo) {\n          if (resizeTo.current instanceof HTMLElement) {\n            application.resizeTo = resizeTo.current;\n          }\n        } else {\n          application.resizeTo = resizeTo;\n        }\n      } else {\n        application.resizeTo = void 0;\n      }\n    }\n  }, [resizeTo]);\n  const handleInit = react.useCallback((application) => {\n    processUnmountQueue.processUnmountQueue();\n    applicationRef.current = application;\n    updateResizeTo();\n    onInit?.(application);\n  }, [onInit]);\n  useIsomorphicLayoutEffect.useIsomorphicLayoutEffect(() => {\n    if (extensions) {\n      const extensionsToHandle = [...extensions];\n      const extensionsState = extensionsRef.current;\n      for (const extension of extensionsState.values()) {\n        const extensionIndex = extensionsToHandle.indexOf(extension);\n        if (extensionIndex === -1) {\n          pixi_js.extensions.remove(extension);\n          extensionsState.delete(extension);\n        }\n        extensionsToHandle.splice(extensionIndex, 1);\n      }\n      for (const extension in extensionsToHandle) {\n        pixi_js.extensions.add(extension);\n        extensionsState.add(extension);\n      }\n    }\n  }, [extensions]);\n  useIsomorphicLayoutEffect.useIsomorphicLayoutEffect(() => {\n    const canvasElement = canvasRef.current;\n    if (canvasElement) {\n      let root = roots.roots.get(canvasElement);\n      if (!root) {\n        root = createRoot.createRoot(canvasElement, { onInit: handleInit });\n      }\n      root.render(/* @__PURE__ */ jsxRuntime.jsx(Bridge, { children }), applicationProps);\n    }\n  }, [\n    applicationProps,\n    children,\n    handleInit,\n    resizeTo\n  ]);\n  useIsomorphicLayoutEffect.useIsomorphicLayoutEffect(() => {\n    updateResizeTo();\n  }, [resizeTo]);\n  useIsomorphicLayoutEffect.useIsomorphicLayoutEffect(() => {\n    if (defaultTextStyle) {\n      Object.assign(pixi_js.TextStyle.defaultTextStyle, defaultTextStyle);\n    } else {\n      Object.assign(pixi_js.TextStyle.defaultTextStyle, originalDefaultTextStyle);\n    }\n  }, [defaultTextStyle]);\n  react.useEffect(() => {\n    const canvasElement = canvasRef.current;\n    if (canvasElement) {\n      unqueueForUnmount.unqueueForUnmount(canvasElement);\n      return () => {\n        queueForUnmount.queueForUnmount(canvasElement);\n      };\n    }\n  }, []);\n  return /* @__PURE__ */ jsxRuntime.jsx(\n    \"canvas\",\n    {\n      ref: canvasRef,\n      className\n    }\n  );\n});\nconst Application = react.forwardRef(function ApplicationWrapper(props, ref) {\n  return /* @__PURE__ */ jsxRuntime.jsx(itsFine.FiberProvider, { children: /* @__PURE__ */ jsxRuntime.jsx(\n    ApplicationImplementation,\n    {\n      ref,\n      ...props\n    }\n  ) });\n});\n\nexports.Application = Application;\n//# sourceMappingURL=Application.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","jsxRuntime","itsFine","pixi_js","react","createRoot","roots","processUnmountQueue","queueForUnmount","unqueueForUnmount","useIsomorphicLayoutEffect","originalDefaultTextStyle","TextStyle","defaultTextStyle","ApplicationImplementation","forwardRef","Application2","props","forwardedRef","children","className","extensions","onInit","resizeTo","applicationProps","Bridge","useContextBridge","applicationRef","useRef","canvasRef","extensionsRef","Set","useImperativeHandle","getApplication","current","getCanvas","updateResizeTo","useCallback","application","HTMLElement","handleInit","extensionsToHandle","extensionsState","extension","values","extensionIndex","indexOf","remove","delete","splice","add","canvasElement","root","get","render","jsx","Object","assign","useEffect","ref","Application","ApplicationWrapper","FiberProvider"]
}
