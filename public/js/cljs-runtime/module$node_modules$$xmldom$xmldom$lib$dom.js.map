{
"version":3,
"file":"module$node_modules$$xmldom$xmldom$lib$dom.js",
"lineCount":882,
"mappings":"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",
"sources":["node_modules/@xmldom/xmldom/lib/dom.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$xmldom$xmldom$lib$dom\"] = function(global,require,module,exports) {\nvar conventions = require(\"./conventions\");\n\nvar find = conventions.find;\nvar NAMESPACE = conventions.NAMESPACE;\n\n/**\n * A prerequisite for `[].filter`, to drop elements that are empty\n * @param {string} input\n * @returns {boolean}\n */\nfunction notEmptyString (input) {\n\treturn input !== ''\n}\n/**\n * @see https://infra.spec.whatwg.org/#split-on-ascii-whitespace\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * @param {string} input\n * @returns {string[]} (can be empty)\n */\nfunction splitOnASCIIWhitespace(input) {\n\t// U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, U+0020 SPACE\n\treturn input ? input.split(/[\\t\\n\\f\\r ]+/).filter(notEmptyString) : []\n}\n\n/**\n * Adds element as a key to current if it is not already present.\n *\n * @param {Record<string, boolean | undefined>} current\n * @param {string} element\n * @returns {Record<string, boolean | undefined>}\n */\nfunction orderedSetReducer (current, element) {\n\tif (!current.hasOwnProperty(element)) {\n\t\tcurrent[element] = true;\n\t}\n\treturn current;\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ordered-set\n * @param {string} input\n * @returns {string[]}\n */\nfunction toOrderedSet(input) {\n\tif (!input) return [];\n\tvar list = splitOnASCIIWhitespace(input);\n\treturn Object.keys(list.reduce(orderedSetReducer, {}))\n}\n\n/**\n * Uses `list.indexOf` to implement something like `Array.prototype.includes`,\n * which we can not rely on being available.\n *\n * @param {any[]} list\n * @returns {function(any): boolean}\n */\nfunction arrayIncludes (list) {\n\treturn function(element) {\n\t\treturn list && list.indexOf(element) !== -1;\n\t}\n}\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tif (Object.prototype.hasOwnProperty.call(src, p)) {\n\t\t\tdest[p] = src[p];\n\t\t}\n\t}\n}\n\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\n\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0,\n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long\n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index.\n\t */\n\titem: function(index) {\n\t\treturn index >= 0 && index < this.length ? this[index] : null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t},\n\t/**\n\t * @private\n\t * @param {function (Node):boolean} predicate\n\t * @returns {Node[]}\n\t */\n\tfilter: function (predicate) {\n\t\treturn Array.prototype.filter.call(this, predicate);\n\t},\n\t/**\n\t * @private\n\t * @param {Node} item\n\t * @returns {number}\n\t */\n\tindexOf: function (item) {\n\t\treturn Array.prototype.indexOf.call(this, item);\n\t},\n};\n\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif (list._inc !== inc) {\n\t\tvar ls = list._refresh(list._node);\n\t\t__set__(list,'length',ls.length);\n\t\tif (!list.$$length || ls.length < list.$$length) {\n\t\t\tfor (var i = ls.length; i in list; i++) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(list, i)) {\n\t\t\t\t\tdelete list[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i] || null;\n}\n\n_extends(LiveNodeList,NodeList);\n\n/**\n * Objects implementing the NamedNodeMap interface are used\n * to represent collections of nodes that can be accessed by name.\n * Note that NamedNodeMap does not inherit from NodeList;\n * NamedNodeMaps are not maintained in any particular order.\n * Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index,\n * but this is simply to allow convenient enumeration of the contents of a NamedNodeMap,\n * and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities\n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow new DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\n\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n\n/**\n * The DOMImplementation interface represents an object providing methods\n * which are not dependent on any particular document.\n * Such an object is returned by the `Document.implementation` property.\n *\n * __The individual methods describe the differences compared to the specs.__\n *\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation MDN\n * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490 DOM Level 1 Core (Initial)\n * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-102161490 DOM Level 2 Core\n * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-102161490 DOM Level 3 Core\n * @see https://dom.spec.whatwg.org/#domimplementation DOM Living Standard\n */\nfunction DOMImplementation() {\n}\n\nDOMImplementation.prototype = {\n\t/**\n\t * The DOMImplementation.hasFeature() method returns a Boolean flag indicating if a given feature is supported.\n\t * The different implementations fairly diverged in what kind of features were reported.\n\t * The latest version of the spec settled to force this method to always return true, where the functionality was accurate and in use.\n\t *\n\t * @deprecated It is deprecated and modern browsers return true in all cases.\n\t *\n\t * @param {string} feature\n\t * @param {string} [version]\n\t * @returns {boolean} always true\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/hasFeature MDN\n\t * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-5CED94D7 DOM Level 1 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-hasfeature DOM Living Standard\n\t */\n\thasFeature: function(feature, version) {\n\t\t\treturn true;\n\t},\n\t/**\n\t * Creates an XML Document object of the specified type with its document element.\n\t *\n\t * __It behaves slightly different from the description in the living standard__:\n\t * - There is no interface/class `XMLDocument`, it returns a `Document` instance.\n\t * - `contentType`, `encoding`, `mode`, `origin`, `url` fields are currently not declared.\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string|null} namespaceURI\n\t * @param {string} qualifiedName\n\t * @param {DocumentType=null} doctype\n\t * @returns {Document}\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocument MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocument DOM Level 2 Core (initial)\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument  DOM Level 2 Core\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocument: function(namespaceURI,  qualifiedName, doctype){\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype || null;\n\t\tif (doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif (qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI, qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t/**\n\t * Returns a doctype, with the given `qualifiedName`, `publicId`, and `systemId`.\n\t *\n\t * __This behavior is slightly different from the in the specs__:\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string} qualifiedName\n\t * @param {string} [publicId]\n\t * @param {string} [systemId]\n\t * @returns {DocumentType} which can either be used with `DOMImplementation.createDocument` upon document creation\n\t * \t\t\t\t  or can be put into the document via methods like `Node.insertBefore()` or `Node.replaceChild()`\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocumentType MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocType DOM Level 2 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype DOM Living Standard\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocumentType: function(qualifiedName, publicId, systemId){\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId || '';\n\t\tnode.systemId = systemId || '';\n\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises\n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises\n\t\t_insertBefore(this, newChild,oldChild, assertPreReplacementValidityInDocument);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n\t/**\n\t * Look up the prefix associated to the given namespace URI, starting from this node.\n\t * **The default namespace declarations are ignored by this method.**\n\t * See Namespace Prefix Lookup for details on the algorithm used by this method.\n\t *\n\t * _Note: The implementation seems to be incomplete when compared to the algorithm described in the specs._\n\t *\n\t * @param {string | null} namespaceURI\n\t * @returns {string | null}\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-lookupNamespacePrefix\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html#lookupNamespacePrefixAlgo\n\t * @see https://dom.spec.whatwg.org/#dom-node-lookupprefix\n\t * @see https://github.com/xmldom/xmldom/issues/322\n\t */\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(map, n) && map[n] === namespaceURI) {\n\t\t\t\t\t\t\treturn n;\n\t\t\t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(Object.prototype.hasOwnProperty.call(map, prefix)){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n\tthis.ownerDocument = this;\n}\n\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\n\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\n\n/**\n * Updates `el.childNodes`, updating the indexed items and it's `length`.\n * Passing `newChild` means it will be appended.\n * Otherwise it's assumed that an item has been removed,\n * and `el.firstNode` and it's `.nextSibling` are used\n * to walk the current list of child nodes.\n *\n * @param {Document} doc\n * @param {Node} el\n * @param {Node} [newChild]\n * @private\n */\nfunction _onUpdateChild (doc, el, newChild) {\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif (newChild) {\n\t\t\tcs[cs.length++] = newChild;\n\t\t} else {\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile (child) {\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild = child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t\tdelete cs[cs.length];\n\t\t}\n\t}\n}\n\n/**\n * Removes the connections between `parentNode` and `child`\n * and any existing `child.previousSibling` or `child.nextSibling`.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n *\n * @param {Node} parentNode\n * @param {Node} child\n * @returns {Node} the child that was removed.\n * @private\n */\nfunction _removeChild (parentNode, child) {\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif (previous) {\n\t\tprevious.nextSibling = next;\n\t} else {\n\t\tparentNode.firstChild = next;\n\t}\n\tif (next) {\n\t\tnext.previousSibling = previous;\n\t} else {\n\t\tparentNode.lastChild = previous;\n\t}\n\tchild.parentNode = null;\n\tchild.previousSibling = null;\n\tchild.nextSibling = null;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode);\n\treturn child;\n}\n\n/**\n * Returns `true` if `node` can be a parent for insertion.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasValidParentNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(node.nodeType === Node.DOCUMENT_NODE || node.nodeType === Node.DOCUMENT_FRAGMENT_NODE || node.nodeType === Node.ELEMENT_NODE)\n\t);\n}\n\n/**\n * Returns `true` if `node` can be inserted according to it's `nodeType`.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasInsertableNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(isElementNode(node) ||\n\t\t\tisTextNode(node) ||\n\t\t\tisDocTypeNode(node) ||\n\t\t\tnode.nodeType === Node.DOCUMENT_FRAGMENT_NODE ||\n\t\t\tnode.nodeType === Node.COMMENT_NODE ||\n\t\t\tnode.nodeType === Node.PROCESSING_INSTRUCTION_NODE)\n\t);\n}\n\n/**\n * Returns true if `node` is a DOCTYPE node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isDocTypeNode(node) {\n\treturn node && node.nodeType === Node.DOCUMENT_TYPE_NODE;\n}\n\n/**\n * Returns true if the node is an element\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isElementNode(node) {\n\treturn node && node.nodeType === Node.ELEMENT_NODE;\n}\n/**\n * Returns true if `node` is a text node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isTextNode(node) {\n\treturn node && node.nodeType === Node.TEXT_NODE;\n}\n\n/**\n * Check if en element node can be inserted before `child`, or at the end if child is falsy,\n * according to the presence and position of a doctype node on the same level.\n *\n * @param {Document} doc The document node\n * @param {Node} child the node that would become the nextSibling if the element would be inserted\n * @returns {boolean} `true` if an element can be inserted before child\n * @private\n * https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction isElementInsertionPossible(doc, child) {\n\tvar parentChildNodes = doc.childNodes || [];\n\tif (find(parentChildNodes, isElementNode) || isDocTypeNode(child)) {\n\t\treturn false;\n\t}\n\tvar docTypeNode = find(parentChildNodes, isDocTypeNode);\n\treturn !(child && docTypeNode && parentChildNodes.indexOf(docTypeNode) > parentChildNodes.indexOf(child));\n}\n\n/**\n * Check if en element node can be inserted before `child`, or at the end if child is falsy,\n * according to the presence and position of a doctype node on the same level.\n *\n * @param {Node} doc The document node\n * @param {Node} child the node that would become the nextSibling if the element would be inserted\n * @returns {boolean} `true` if an element can be inserted before child\n * @private\n * https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction isElementReplacementPossible(doc, child) {\n\tvar parentChildNodes = doc.childNodes || [];\n\n\tfunction hasElementChildThatIsNotChild(node) {\n\t\treturn isElementNode(node) && node !== child;\n\t}\n\n\tif (find(parentChildNodes, hasElementChildThatIsNotChild)) {\n\t\treturn false;\n\t}\n\tvar docTypeNode = find(parentChildNodes, isDocTypeNode);\n\treturn !(child && docTypeNode && parentChildNodes.indexOf(docTypeNode) > parentChildNodes.indexOf(child));\n}\n\n/**\n * @private\n * Steps 1-5 of the checks before inserting and before replacing a child are the same.\n *\n * @param {Node} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node=} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreInsertionValidity1to5(parent, node, child) {\n\t// 1. If `parent` is not a Document, DocumentFragment, or Element node, then throw a \"HierarchyRequestError\" DOMException.\n\tif (!hasValidParentNodeType(parent)) {\n\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Unexpected parent node type ' + parent.nodeType);\n\t}\n\t// 2. If `node` is a host-including inclusive ancestor of `parent`, then throw a \"HierarchyRequestError\" DOMException.\n\t// not implemented!\n\t// 3. If `child` is non-null and its parent is not `parent`, then throw a \"NotFoundError\" DOMException.\n\tif (child && child.parentNode !== parent) {\n\t\tthrow new DOMException(NOT_FOUND_ERR, 'child not in parent');\n\t}\n\tif (\n\t\t// 4. If `node` is not a DocumentFragment, DocumentType, Element, or CharacterData node, then throw a \"HierarchyRequestError\" DOMException.\n\t\t!hasInsertableNodeType(node) ||\n\t\t// 5. If either `node` is a Text node and `parent` is a document,\n\t\t// the sax parser currently adds top level text nodes, this will be fixed in 0.9.0\n\t\t// || (node.nodeType === Node.TEXT_NODE && parent.nodeType === Node.DOCUMENT_NODE)\n\t\t// or `node` is a doctype and `parent` is not a document, then throw a \"HierarchyRequestError\" DOMException.\n\t\t(isDocTypeNode(node) && parent.nodeType !== Node.DOCUMENT_NODE)\n\t) {\n\t\tthrow new DOMException(\n\t\t\tHIERARCHY_REQUEST_ERR,\n\t\t\t'Unexpected node type ' + node.nodeType + ' for parent node type ' + parent.nodeType\n\t\t);\n\t}\n}\n\n/**\n * @private\n * Step 6 of the checks before inserting and before replacing a child are different.\n *\n * @param {Document} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node | undefined} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreInsertionValidityInDocument(parent, node, child) {\n\tvar parentChildNodes = parent.childNodes || [];\n\tvar nodeChildNodes = node.childNodes || [];\n\n\t// DocumentFragment\n\tif (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n\t\tvar nodeChildElements = nodeChildNodes.filter(isElementNode);\n\t\t// If node has more than one element child or has a Text node child.\n\t\tif (nodeChildElements.length > 1 || find(nodeChildNodes, isTextNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'More than one element or text in fragment');\n\t\t}\n\t\t// Otherwise, if `node` has one element child and either `parent` has an element child,\n\t\t// `child` is a doctype, or `child` is non-null and a doctype is following `child`.\n\t\tif (nodeChildElements.length === 1 && !isElementInsertionPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Element in fragment can not be inserted before doctype');\n\t\t}\n\t}\n\t// Element\n\tif (isElementNode(node)) {\n\t\t// `parent` has an element child, `child` is a doctype,\n\t\t// or `child` is non-null and a doctype is following `child`.\n\t\tif (!isElementInsertionPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one element can be added and only after doctype');\n\t\t}\n\t}\n\t// DocumentType\n\tif (isDocTypeNode(node)) {\n\t\t// `parent` has a doctype child,\n\t\tif (find(parentChildNodes, isDocTypeNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one doctype is allowed');\n\t\t}\n\t\tvar parentElementChild = find(parentChildNodes, isElementNode);\n\t\t// `child` is non-null and an element is preceding `child`,\n\t\tif (child && parentChildNodes.indexOf(parentElementChild) < parentChildNodes.indexOf(child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can only be inserted before an element');\n\t\t}\n\t\t// or `child` is null and `parent` has an element child.\n\t\tif (!child && parentElementChild) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can not be appended since element is present');\n\t\t}\n\t}\n}\n\n/**\n * @private\n * Step 6 of the checks before inserting and before replacing a child are different.\n *\n * @param {Document} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node | undefined} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreReplacementValidityInDocument(parent, node, child) {\n\tvar parentChildNodes = parent.childNodes || [];\n\tvar nodeChildNodes = node.childNodes || [];\n\n\t// DocumentFragment\n\tif (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n\t\tvar nodeChildElements = nodeChildNodes.filter(isElementNode);\n\t\t// If `node` has more than one element child or has a Text node child.\n\t\tif (nodeChildElements.length > 1 || find(nodeChildNodes, isTextNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'More than one element or text in fragment');\n\t\t}\n\t\t// Otherwise, if `node` has one element child and either `parent` has an element child that is not `child` or a doctype is following `child`.\n\t\tif (nodeChildElements.length === 1 && !isElementReplacementPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Element in fragment can not be inserted before doctype');\n\t\t}\n\t}\n\t// Element\n\tif (isElementNode(node)) {\n\t\t// `parent` has an element child that is not `child` or a doctype is following `child`.\n\t\tif (!isElementReplacementPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one element can be added and only after doctype');\n\t\t}\n\t}\n\t// DocumentType\n\tif (isDocTypeNode(node)) {\n\t\tfunction hasDoctypeChildThatIsNotChild(node) {\n\t\t\treturn isDocTypeNode(node) && node !== child;\n\t\t}\n\n\t\t// `parent` has a doctype child that is not `child`,\n\t\tif (find(parentChildNodes, hasDoctypeChildThatIsNotChild)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one doctype is allowed');\n\t\t}\n\t\tvar parentElementChild = find(parentChildNodes, isElementNode);\n\t\t// or an element is preceding `child`.\n\t\tif (child && parentChildNodes.indexOf(parentElementChild) < parentChildNodes.indexOf(child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can only be inserted before an element');\n\t\t}\n\t}\n}\n\n/**\n * @private\n * @param {Node} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node=} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction _insertBefore(parent, node, child, _inDocumentAssertion) {\n\t// To ensure pre-insertion validity of a node into a parent before a child, run these steps:\n\tassertPreInsertionValidity1to5(parent, node, child);\n\n\t// If parent is a document, and any of the statements below, switched on the interface node implements,\n\t// are true, then throw a \"HierarchyRequestError\" DOMException.\n\tif (parent.nodeType === Node.DOCUMENT_NODE) {\n\t\t(_inDocumentAssertion || assertPreInsertionValidityInDocument)(parent, node, child);\n\t}\n\n\tvar cp = node.parentNode;\n\tif(cp){\n\t\tcp.removeChild(node);//remove and update\n\t}\n\tif(node.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = node.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn node;\n\t\t}\n\t\tvar newLast = node.lastChild;\n\t}else{\n\t\tnewFirst = newLast = node;\n\t}\n\tvar pre = child ? child.previousSibling : parent.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = child;\n\n\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparent.firstChild = newFirst;\n\t}\n\tif(child == null){\n\t\tparent.lastChild = newLast;\n\t}else{\n\t\tchild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parent;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parent.ownerDocument||parent, parent);\n\t//console.log(parent.lastChild.nextSibling == null)\n\tif (node.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnode.firstChild = node.lastChild = null;\n\t}\n\treturn node;\n}\n\n/**\n * Appends `newChild` to `parentNode`.\n * If `newChild` is already connected to a `parentNode` it is first removed from it.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n * @param {Node} parentNode\n * @param {Node} newChild\n * @returns {Node}\n * @private\n */\nfunction _appendSingleChild (parentNode, newChild) {\n\tif (newChild.parentNode) {\n\t\tnewChild.parentNode.removeChild(newChild);\n\t}\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = parentNode.lastChild;\n\tnewChild.nextSibling = null;\n\tif (newChild.previousSibling) {\n\t\tnewChild.previousSibling.nextSibling = newChild;\n\t} else {\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\treturn newChild;\n}\n\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\t/**\n\t * The DocumentType node of the document.\n\t *\n\t * @readonly\n\t * @type DocumentType\n\t */\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\t_insertBefore(this, newChild, refChild);\n\t\tnewChild.ownerDocument = this;\n\t\tif (this.documentElement === null && newChild.nodeType === ELEMENT_NODE) {\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\treplaceChild: function (newChild, oldChild) {\n\t\t//raises\n\t\t_insertBefore(this, newChild, oldChild, assertPreReplacementValidityInDocument);\n\t\tnewChild.ownerDocument = this;\n\t\tif (oldChild) {\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t\tif (isElementNode(newChild)) {\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\n\t/**\n\t * The `getElementsByClassName` method of `Document` interface returns an array-like object\n\t * of all child elements which have **all** of the given class name(s).\n\t *\n\t * Returns an empty list if `classeNames` is an empty string or only contains HTML white space characters.\n\t *\n\t *\n\t * Warning: This is a live LiveNodeList.\n\t * Changes in the DOM will reflect in the array as the changes occur.\n\t * If an element selected by this array no longer qualifies for the selector,\n\t * it will automatically be removed. Be aware of this for iteration purposes.\n\t *\n\t * @param {string} classNames is a string representing the class name(s) to match; multiple class names are separated by (ASCII-)whitespace\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n\t * @see https://dom.spec.whatwg.org/#concept-getelementsbyclassname\n\t */\n\tgetElementsByClassName: function(classNames) {\n\t\tvar classNamesSet = toOrderedSet(classNames)\n\t\treturn new LiveNodeList(this, function(base) {\n\t\t\tvar ls = [];\n\t\t\tif (classNamesSet.length > 0) {\n\t\t\t\t_visitNode(base.documentElement, function(node) {\n\t\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\tvar nodeClassNames = node.getAttribute('class')\n\t\t\t\t\t\t// can be null if the attribute does not exist\n\t\t\t\t\t\tif (nodeClassNames) {\n\t\t\t\t\t\t\t// before splitting and iterating just compare them for the most common case\n\t\t\t\t\t\t\tvar matches = classNames === nodeClassNames;\n\t\t\t\t\t\t\tif (!matches) {\n\t\t\t\t\t\t\t\tvar nodeClassNamesSet = toOrderedSet(nodeClassNames)\n\t\t\t\t\t\t\t\tmatches = classNamesSet.every(arrayIncludes(nodeClassNamesSet))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(matches) {\n\t\t\t\t\t\t\t\tls.push(node);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn ls;\n\t\t});\n\t},\n\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.localName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.nodeName = node.target = target;\n\t\tnode.nodeValue = node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9 && this.documentElement || this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix || '';\n\tvar uri = node.namespaceURI;\n\t// According to [Namespaces in XML 1.0](https://www.w3.org/TR/REC-xml-names/#ns-using) ,\n\t// and more specifically https://www.w3.org/TR/REC-xml-names/#nsc-NoPrefixUndecl :\n\t// > In a namespace declaration for a prefix [...], the attribute value MUST NOT be empty.\n\t// in a similar manner [Namespaces in XML 1.1](https://www.w3.org/TR/xml-names11/#ns-using)\n\t// and more specifically https://www.w3.org/TR/xml-names11/#nsc-NSDeclared :\n\t// > [...] Furthermore, the attribute value [...] must not be an empty string.\n\t// so serializing empty namespace value like xmlns:ds=\"\" would produce an invalid XML document.\n\tif (!uri) {\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === NAMESPACE.XML || uri === NAMESPACE.XMLNS) {\n\t\treturn false;\n\t}\n\n\tvar i = visibleNamespaces.length\n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\tif (ns.prefix === prefix) {\n\t\t\treturn ns.namespace !== uri;\n\t\t}\n\t}\n\treturn true;\n}\n/**\n * Well-formed constraint: No < in Attribute Values\n * > The replacement text of any entity referred to directly or indirectly\n * > in an attribute value must not contain a <.\n * @see https://www.w3.org/TR/xml11/#CleanAttrVals\n * @see https://www.w3.org/TR/xml11/#NT-AttValue\n *\n * Literal whitespace other than space that appear in attribute values\n * are serialized as their entity references, so they will be preserved.\n * (In contrast to whitespace literals in the input which are normalized to spaces)\n * @see https://www.w3.org/TR/xml11/#AVNormalize\n * @see https://w3c.github.io/DOM-Parsing/#serializing-an-element-s-attributes\n */\nfunction addSerializedAttribute(buf, qualifiedName, value) {\n\tbuf.push(' ', qualifiedName, '=\"', value.replace(/[<>&\"\\t\\n\\r]/g, _xmlEncoder), '\"')\n}\n\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif (!visibleNamespaces) {\n\t\tvisibleNamespaces = [];\n\t}\n\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\n\t\tisHTML = NAMESPACE.isHTML(node.namespaceURI) || isHTML\n\n\t\tvar prefixedNodeName = nodeName\n\t\tif (!isHTML && !node.prefix && node.namespaceURI) {\n\t\t\tvar defaultNS\n\t\t\t// lookup current default ns from `xmlns` attribute\n\t\t\tfor (var ai = 0; ai < attrs.length; ai++) {\n\t\t\t\tif (attrs.item(ai).name === 'xmlns') {\n\t\t\t\t\tdefaultNS = attrs.item(ai).value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!defaultNS) {\n\t\t\t\t// lookup current default ns in visibleNamespaces\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.prefix === '' && namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tdefaultNS = namespace.namespace\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defaultNS !== node.namespaceURI) {\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tif (namespace.prefix) {\n\t\t\t\t\t\t\tprefixedNodeName = namespace.prefix + ':' + nodeName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbuf.push('<', prefixedNodeName);\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\n\t\t// add namespace for current node\n\t\tif (nodeName === prefixedNodeName && needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',prefixedNodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn addSerializedAttribute(buf, node.name, node.value);\n\tcase TEXT_NODE:\n\t\t/**\n\t\t * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n\t\t * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n\t\t * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n\t\t * `&amp;` and `&lt;` respectively.\n\t\t * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n\t\t * be escaped using either `&gt;` or a character reference when it appears in the string `]]\u003e` in content,\n\t\t * when that string is not marking the end of a CDATA section.\n\t\t *\n\t\t * In the content of elements, character data is any string of characters\n\t\t * which does not contain the start-delimiter of any markup\n\t\t * and does not include the CDATA-section-close delimiter, `]]\u003e`.\n\t\t *\n\t\t * @see https://www.w3.org/TR/xml/#NT-CharData\n\t\t * @see https://w3c.github.io/DOM-Parsing/#xml-serializing-a-text-node\n\t\t */\n\t\treturn buf.push(node.data\n\t\t\t.replace(/[<&>]/g,_xmlEncoder)\n\t\t);\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]\u003e');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"\u003c!--\",node.data,\"--\u003e\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC ', pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push(' ', sysid);\n\t\t\t}\n\t\t\tbuf.push('>');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM ', sysid, '>');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE\uff1a\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor (var n in node) {\n\t\tif (Object.prototype.hasOwnProperty.call(node, n)) {\n\t\t\tvar v = node[n];\n\t\t\tif (typeof v != \"object\") {\n\t\t\t\tif (v != node2[n]) {\n\t\t\t\t\tnode2[n] = v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DocumentType = DocumentType;\n\texports.DOMException = DOMException;\n\texports.DOMImplementation = DOMImplementation;\n\texports.Element = Element;\n\texports.Node = Node;\n\texports.NodeList = NodeList;\n\texports.XMLSerializer = XMLSerializer;\n//}\n\n};"],
"names":["shadow$provide","global","require","module","exports","notEmptyString","input","orderedSetReducer","current","element","hasOwnProperty","toOrderedSet","list","split","filter","Object","keys","reduce","arrayIncludes","indexOf","copy","src","dest","p","prototype","call","_extends","Class","Super","pt","t","constructor","console","error","DOMException","code","message","Error","ExceptionMessage","captureStackTrace","NodeList","LiveNodeList","node","refresh","_node","_refresh","_updateLiveList","inc","_inc","ownerDocument","ls","__set__","length","$$length","i","NamedNodeMap","_findNodeIndex","_addNamedNode","el","newAttr","oldAttr","ownerElement","doc","namespaceURI","NAMESPACE","XMLNS","_nsMap","prefix","localName","value","_removeNamedNode","attr","lastIndex","NOT_FOUND_ERR","tagName","DOMImplementation","Node","_xmlEncoder","c","charCodeAt","_visitNode","callback","firstChild","nextSibling","Document","_onUpdateChild","newChild","cs","childNodes","child","_removeChild","parentNode","previous","previousSibling","next","lastChild","isDocTypeNode","nodeType","DOCUMENT_TYPE_NODE","isElementNode","ELEMENT_NODE","isTextNode","TEXT_NODE","isElementInsertionPossible","parentChildNodes","find","docTypeNode","isElementReplacementPossible","hasElementChildThatIsNotChild","assertPreInsertionValidityInDocument","parent","nodeChildNodes","DOCUMENT_FRAGMENT_NODE","nodeChildElements","HIERARCHY_REQUEST_ERR","parentElementChild","assertPreReplacementValidityInDocument","hasDoctypeChildThatIsNotChild","_insertBefore","_inDocumentAssertion","DOCUMENT_NODE","COMMENT_NODE","PROCESSING_INSTRUCTION_NODE","cp","removeChild","newFirst","newLast","pre","Element","Attr","CharacterData","Text","Comment","CDATASection","DocumentType","Notation","Entity","EntityReference","DocumentFragment","ProcessingInstruction","XMLSerializer","nodeSerializeToString","isHtml","nodeFilter","buf","refNode","documentElement","uri","lookupPrefix","visibleNamespaces","namespace","serializeToString","join","needNamespaceDefine","isHTML","XML","ns","addSerializedAttribute","qualifiedName","push","replace","attrs","attributes","len","nodeName","prefixedNodeName","defaultNS","ai","item","name","nsi","test","data","slice","ATTRIBUTE_NODE","CDATA_SECTION_NODE","pubid","publicId","sysid","systemId","sub","internalSubset","target","ENTITY_REFERENCE_NODE","importNode","deep","node2","cloneNode","appendChild","n","v","attrs2","_ownerElement","setAttributeNode","object","key","conventions","NodeType","ENTITY_NODE","NOTATION_NODE","ExceptionCode","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","index","toString","predicate","Array","LiveNodeList.prototype.item","getNamedItem","setNamedItem","setNamedItemNS","getNamedItemNS","removeNamedItem","removeNamedItemNS","hasFeature","feature","version","createDocument","doctype","implementation","root","createElementNS","createDocumentType","nodeValue","insertBefore","refChild","replaceChild","oldChild","hasChildNodes","normalize","appendData","isSupported","hasAttributes","map","lookupNamespaceURI","isDefaultNamespace","importedNode","getElementById","id","rtv","getAttribute","getElementsByClassName","classNames","classNamesSet","base","nodeClassNames","matches","nodeClassNamesSet","every","createElement","createDocumentFragment","createTextNode","createComment","createCDATASection","createProcessingInstruction","createAttribute","specified","createEntityReference","pl","createAttributeNS","hasAttribute","getAttributeNode","setAttribute","removeAttribute","removeAttributeNode","setAttributeNodeNS","removeAttributeNS","old","getAttributeNodeNS","hasAttributeNS","getAttributeNS","setAttributeNS","getElementsByTagName","getElementsByTagNameNS","substringData","offset","count","substring","text","insertData","replaceData","deleteData","start","end","splitText","newText","newNode","XMLSerializer.prototype.serializeToString","defineProperty","get","getTextContent","set","String","e"]
}
