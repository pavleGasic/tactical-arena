{
"version":3,
"file":"module$node_modules$pixi_DOT_js$lib$scene$sprite_tiling$shader$TilingSpriteShader.js",
"lineCount":31,
"mappings":"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",
"sources":["node_modules/pixi_DOT_js/lib/scene/sprite-tiling/shader/TilingSpriteShader.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$pixi_DOT_js$lib$scene$sprite_tiling$shader$TilingSpriteShader\"] = function(global,require,module,exports) {\n'use strict';\n\nvar Matrix = require('../../../maths/matrix/Matrix.js');\nvar compileHighShaderToProgram = require('../../../rendering/high-shader/compileHighShaderToProgram.js');\nvar localUniformBit = require('../../../rendering/high-shader/shader-bits/localUniformBit.js');\nvar roundPixelsBit = require('../../../rendering/high-shader/shader-bits/roundPixelsBit.js');\nvar Shader = require('../../../rendering/renderers/shared/shader/Shader.js');\nvar UniformGroup = require('../../../rendering/renderers/shared/shader/UniformGroup.js');\nvar Texture = require('../../../rendering/renderers/shared/texture/Texture.js');\nvar tilingBit = require('./tilingBit.js');\n\n\"use strict\";\nlet gpuProgram;\nlet glProgram;\nclass TilingSpriteShader extends Shader.Shader {\n  constructor() {\n    gpuProgram ?? (gpuProgram = compileHighShaderToProgram.compileHighShaderGpuProgram({\n      name: \"tiling-sprite-shader\",\n      bits: [\n        localUniformBit.localUniformBit,\n        tilingBit.tilingBit,\n        roundPixelsBit.roundPixelsBit\n      ]\n    }));\n    glProgram ?? (glProgram = compileHighShaderToProgram.compileHighShaderGlProgram({\n      name: \"tiling-sprite-shader\",\n      bits: [\n        localUniformBit.localUniformBitGl,\n        tilingBit.tilingBitGl,\n        roundPixelsBit.roundPixelsBitGl\n      ]\n    }));\n    const tilingUniforms = new UniformGroup.UniformGroup({\n      uMapCoord: { value: new Matrix.Matrix(), type: \"mat3x3<f32>\" },\n      uClampFrame: { value: new Float32Array([0, 0, 1, 1]), type: \"vec4<f32>\" },\n      uClampOffset: { value: new Float32Array([0, 0]), type: \"vec2<f32>\" },\n      uTextureTransform: { value: new Matrix.Matrix(), type: \"mat3x3<f32>\" },\n      uSizeAnchor: { value: new Float32Array([100, 100, 0.5, 0.5]), type: \"vec4<f32>\" }\n    });\n    super({\n      glProgram,\n      gpuProgram,\n      resources: {\n        localUniforms: new UniformGroup.UniformGroup({\n          uTransformMatrix: { value: new Matrix.Matrix(), type: \"mat3x3<f32>\" },\n          uColor: { value: new Float32Array([1, 1, 1, 1]), type: \"vec4<f32>\" },\n          uRound: { value: 0, type: \"f32\" }\n        }),\n        tilingUniforms,\n        uTexture: Texture.Texture.EMPTY.source,\n        uSampler: Texture.Texture.EMPTY.source.style\n      }\n    });\n  }\n  updateUniforms(width, height, matrix, anchorX, anchorY, texture) {\n    const tilingUniforms = this.resources.tilingUniforms;\n    const textureWidth = texture.width;\n    const textureHeight = texture.height;\n    const textureMatrix = texture.textureMatrix;\n    const uTextureTransform = tilingUniforms.uniforms.uTextureTransform;\n    uTextureTransform.set(\n      matrix.a * textureWidth / width,\n      matrix.b * textureWidth / height,\n      matrix.c * textureHeight / width,\n      matrix.d * textureHeight / height,\n      matrix.tx / width,\n      matrix.ty / height\n    );\n    uTextureTransform.invert();\n    tilingUniforms.uniforms.uMapCoord = textureMatrix.mapCoord;\n    tilingUniforms.uniforms.uClampFrame = textureMatrix.uClampFrame;\n    tilingUniforms.uniforms.uClampOffset = textureMatrix.uClampOffset;\n    tilingUniforms.uniforms.uTextureTransform = uTextureTransform;\n    tilingUniforms.uniforms.uSizeAnchor[0] = width;\n    tilingUniforms.uniforms.uSizeAnchor[1] = height;\n    tilingUniforms.uniforms.uSizeAnchor[2] = anchorX;\n    tilingUniforms.uniforms.uSizeAnchor[3] = anchorY;\n    if (texture) {\n      this.resources.uTexture = texture.source;\n      this.resources.uSampler = texture.source.style;\n    }\n  }\n}\n\nexports.TilingSpriteShader = TilingSpriteShader;\n//# sourceMappingURL=TilingSpriteShader.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","Matrix","compileHighShaderToProgram","localUniformBit","roundPixelsBit","Shader","UniformGroup","Texture","tilingBit","gpuProgram","glProgram","TilingSpriteShader","constructor","compileHighShaderGpuProgram","name","bits","compileHighShaderGlProgram","localUniformBitGl","tilingBitGl","roundPixelsBitGl","tilingUniforms","uMapCoord","value","type","uClampFrame","Float32Array","uClampOffset","uTextureTransform","uSizeAnchor","resources","localUniforms","uTransformMatrix","uColor","uRound","uTexture","EMPTY","source","uSampler","style","updateUniforms","width","height","matrix","anchorX","anchorY","texture","textureWidth","textureHeight","textureMatrix","uniforms","set","a","b","c","d","tx","ty","invert","mapCoord"]
}
