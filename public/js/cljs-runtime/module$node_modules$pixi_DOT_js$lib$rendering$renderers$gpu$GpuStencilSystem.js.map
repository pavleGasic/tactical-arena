{
"version":3,
"file":"module$node_modules$pixi_DOT_js$lib$rendering$renderers$gpu$GpuStencilSystem.js",
"lineCount":33,
"mappings":"AAAAA,cAAA,CAAA,4EAAA,GAAiG,QAAQ,CAACC,MAAD,EAAQC,OAAR,EAAgBC,MAAhB,EAAuBC,OAAvB,CAAgC;AAGrIC,QAAAA,GAAaH,OAAA,CAAQ,2DAAR,CAAbG;AACJ,MAAIC,SAASJ,OAAA,CAAQ,4EAAR,CAAb;AAEA,cAAA;AACA,OAAMK,iBAAN;AACEC,eAAW,CAACC,QAAD,CAAW;AACpB,UAAKC,CAAAA,yBAAL,GAAiDC,MAAOC,CAAAA,MAAP,CAAc,IAAd,CAAjD;AACA,UAAKC,CAAAA,SAAL,GAAiBJ,QAAjB;AACAA,cAASK,CAAAA,YAAaC,CAAAA,oBAAqBC,CAAAA,GAA3C,CAA+C,IAA/C,CAAA;AAHoB;AAKtBD,wBAAoB,CAACD,YAAD,CAAe;AACjC,UAAIG,eAAe,IAAKP,CAAAA,yBAAL,CAA+BI,YAAaI,CAAAA,GAA5C,CAAnB;AACKD,kBAAL,KACEA,YADF,GACiB,IAAKP,CAAAA,yBAAL,CAA+BI,YAAaI,CAAAA,GAA5C,CADjB,GACoE,CAChEC,YAAab,MAAOc,CAAAA,aAAcC,CAAAA,QAD8B,EAEhEC,iBAAkB,CAF8C,CADpE;AAMA,UAAKC,CAAAA,mBAAL,GAA2BT,YAA3B;AACA,UAAKU,CAAAA,cAAL,CAAoBP,YAAaE,CAAAA,WAAjC,EAA8CF,YAAaK,CAAAA,gBAA3D,CAAA;AATiC;AAWnCE,kBAAc,CAACL,WAAD,EAAcG,gBAAd,CAAgC;AAC5C,UAAML,eAAe,IAAKP,CAAAA,yBAAL,CAA+B,IAAKa,CAAAA,mBAAoBL,CAAAA,GAAxD,CAArB;AACAD,kBAAaE,CAAAA,WAAb,GAA2BA,WAA3B;AACAF,kBAAaK,CAAAA,gBAAb,GAAgCA,gBAAhC;AACMb,kBAAAA,GAAW,IAAKI,CAAAA,SAAhBJ;AACNA,kBAASgB,CAAAA,QAASD,CAAAA,cAAlB,CAAiCL,WAAjC,CAAA;AACAV,kBAASiB,CAAAA,OAAQC,CAAAA,iBAAkBC,CAAAA,mBAAnC,CAAuDN,gBAAvD,CAAA;AAN4C;AAQ9CO,WAAO,EAAG;AACR,UAAKhB,CAAAA,SAAUC,CAAAA,YAAaC,CAAAA,oBAAqBe,CAAAA,MAAjD,CAAwD,IAAxD,CAAA;AAGA,UAAKpB,CAAAA,yBAAL,GADA,IAAKa,CAAAA,mBACL,GAFA,IAAKV,CAAAA,SAEL,GAFiB,IAEjB;AAJQ;AAzBZ;AAiCAN,kBAAiBwB,CAAAA,SAAjB,GAA6B,CAC3BC,KAAM,CACJ3B,MAAW4B,CAAAA,aAAcC,CAAAA,YADrB,CADqB,EAI3BC,KAAM,SAJqB,CAA7B;AAOA/B,SAAQG,CAAAA,gBAAR,GAA2BA,gBAA3B;AA/CyI,CAAzI;;",
"sources":["node_modules/pixi_DOT_js/lib/rendering/renderers/gpu/GpuStencilSystem.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$pixi_DOT_js$lib$rendering$renderers$gpu$GpuStencilSystem\"] = function(global,require,module,exports) {\n'use strict';\n\nvar Extensions = require('../../../extensions/Extensions.js');\nvar _const = require('../shared/state/const.js');\n\n\"use strict\";\nclass GpuStencilSystem {\n  constructor(renderer) {\n    this._renderTargetStencilState = /* @__PURE__ */ Object.create(null);\n    this._renderer = renderer;\n    renderer.renderTarget.onRenderTargetChange.add(this);\n  }\n  onRenderTargetChange(renderTarget) {\n    let stencilState = this._renderTargetStencilState[renderTarget.uid];\n    if (!stencilState) {\n      stencilState = this._renderTargetStencilState[renderTarget.uid] = {\n        stencilMode: _const.STENCIL_MODES.DISABLED,\n        stencilReference: 0\n      };\n    }\n    this._activeRenderTarget = renderTarget;\n    this.setStencilMode(stencilState.stencilMode, stencilState.stencilReference);\n  }\n  setStencilMode(stencilMode, stencilReference) {\n    const stencilState = this._renderTargetStencilState[this._activeRenderTarget.uid];\n    stencilState.stencilMode = stencilMode;\n    stencilState.stencilReference = stencilReference;\n    const renderer = this._renderer;\n    renderer.pipeline.setStencilMode(stencilMode);\n    renderer.encoder.renderPassEncoder.setStencilReference(stencilReference);\n  }\n  destroy() {\n    this._renderer.renderTarget.onRenderTargetChange.remove(this);\n    this._renderer = null;\n    this._activeRenderTarget = null;\n    this._renderTargetStencilState = null;\n  }\n}\n/** @ignore */\nGpuStencilSystem.extension = {\n  type: [\n    Extensions.ExtensionType.WebGPUSystem\n  ],\n  name: \"stencil\"\n};\n\nexports.GpuStencilSystem = GpuStencilSystem;\n//# sourceMappingURL=GpuStencilSystem.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","Extensions","_const","GpuStencilSystem","constructor","renderer","_renderTargetStencilState","Object","create","_renderer","renderTarget","onRenderTargetChange","add","stencilState","uid","stencilMode","STENCIL_MODES","DISABLED","stencilReference","_activeRenderTarget","setStencilMode","pipeline","encoder","renderPassEncoder","setStencilReference","destroy","remove","extension","type","ExtensionType","WebGPUSystem","name"]
}
