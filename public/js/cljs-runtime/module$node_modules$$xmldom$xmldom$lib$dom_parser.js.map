{
"version":3,
"file":"module$node_modules$$xmldom$xmldom$lib$dom_parser.js",
"lineCount":136,
"mappings":"AAAAA,cAAA,CAAA,iDAAA,GAAsE,QAAQ,CAACC,MAAD,EAAQC,OAAR,EAAgBC,MAAhB,EAAuBC,OAAvB,CAAgC;AAkC9GC,UAASA,qBAAoB,CAACC,KAAD,CAAQ;AACpC,WAAOA,KACLC,CAAAA,OADK,CACG,eADH,EACoB,IADpB,CAELA,CAAAA,OAFK,CAEG,mBAFH,EAEwB,IAFxB,CAAP;AADoC;AAqCrCC,UAASA,UAAS,CAACC,OAAD,CAAS;AAC1B,QAAKA,CAAAA,OAAL,GAAeA,OAAf,IAAyB,CAACC,QAAQ,EAAT,CAAzB;AAD0B;AAmC3BC,UAASA,kBAAiB,CAACC,SAAD,EAAWC,UAAX,EAAsBH,OAAtB,CAA8B;AAUvDI,YAASA,MAAK,CAACC,GAAD,CAAK;AAClB,UAAIC,KAAKJ,SAAA,CAAUG,GAAV,CAAT;AACG,OAACC,EAAJ,IAAUC,UAAV,KACCD,EADD,GAC0B,CAApB,IAAAJ,SAAUM,CAAAA,MAAV,GAAsB,QAAQ,CAACC,GAAD,CAAK;AAACP,iBAAA,CAAUG,GAAV,EAAcI,GAAd,CAAA;AAAD,OAAnC,GAAwDP,SAD9D;AAGAQ,kBAAA,CAAaL,GAAb,CAAA,GAAoBC,EAApB,IAA0B,QAAQ,CAACG,GAAD,CAAK;AACtCH,UAAA,CAAG,UAAH,GAAcD,GAAd,GAAkB,KAAlB,GAAwBI,GAAxB,GAA4BE,QAAA,CAASX,OAAT,CAA5B,CAAA;AADsC,OAAvC,IAEG,QAAQ,EAAE;OAFb;AALkB;AATnB,QAAG,CAACE,SAAJ,CAAc;AACb,UAAGC,UAAH,YAAyBS,UAAzB;AACC,eAAOT,UAAP;AADD;AAGAD,eAAA,GAAYC,UAAZ;AAJa;AAMd,QAAIO,eAAe,EAAnB,EACIH,aAAaL,SAAbK,YAAkCM,QADtC;AAEAb,WAAA,GAAUA,OAAV,IAAmB,EAAnB;AAUAI,SAAA,CAAM,SAAN,CAAA;AACAA,SAAA,CAAM,OAAN,CAAA;AACAA,SAAA,CAAM,YAAN,CAAA;AACA,WAAOM,YAAP;AAtBuD;AAmCxDE,UAASA,WAAU,EAAG;AAClB,QAAKE,CAAAA,KAAL,GAAa,CAAA,CAAb;AADkB;AAGtBC,UAASA,SAAQ,CAACf,OAAD,EAASgB,IAAT,CAAc;AAC9BA,QAAKC,CAAAA,UAAL,GAAkBjB,OAAQiB,CAAAA,UAA1B;AACAD,QAAKE,CAAAA,YAAL,GAAoBlB,OAAQkB,CAAAA,YAA5B;AAF8B;AAoH/BP,UAASA,SAAQ,CAACQ,CAAD,CAAG;AACnB,QAAGA,CAAH;AACC,aAAO,KAAP,IAAcA,CAAEC,CAAAA,QAAhB,IAA2B,EAA3B,IAA+B,SAA/B,GAAyCD,CAAEF,CAAAA,UAA3C,GAAsD,OAAtD,GAA8DE,CAAED,CAAAA,YAAhE,GAA6E,GAA7E;AADD;AADmB;AAKpBG,UAASA,UAAS,CAACC,KAAD,EAAOC,KAAP,EAAaf,MAAb,CAAoB;AACrC,WAAmB,QAAnB,IAAG,MAAOc,MAAV,GACQA,KAAME,CAAAA,MAAN,CAAaD,KAAb,EAAmBf,MAAnB,CADR,GAGIc,KAAMd,CAAAA,MAAT,IAAmBe,KAAnB,GAAyBf,MAAzB,IAAmCe,KAAnC,GACQ,IAAIE,IAAKC,CAAAA,IAAKC,CAAAA,MAAd,CAAqBL,KAArB,EAA2BC,KAA3B,EAAiCf,MAAjC,CADR,GACiD,EADjD,GAGOc,KANR;AADqC;AA+CtCM,UAASA,cAAc,CAACC,MAAD,EAAQb,IAAR,CAAc;AAC5Ba,UAAOC,CAAAA,cAAZ,GAGID,MAAOC,CAAAA,cAAeC,CAAAA,WAAtB,CAAkCf,IAAlC,CAHJ,GACIa,MAAOG,CAAAA,GAAID,CAAAA,WAAX,CAAuBf,IAAvB,CADJ;AADiC;AAvTjCiB,QAAAA,GAAczC,OAAA,CAAQ,oDAAR,CAAdyC;AACAC,QAAAA,GAAM1C,OAAA,CAAQ,4CAAR,CAAN0C;AACJ,MAAIC,WAAW3C,OAAA,CAAQ,iDAAR,CAAf;AACI4C,SAAAA,GAAM5C,OAAA,CAAQ,4CAAR,CAAN4C;AAEJ,MAAIC,oBAAoBH,MAAIG,CAAAA,iBAA5B,EAEIC,YAAYL,MAAYK,CAAAA,SAF5B,EAIIC,aAAaH,OAAIG,CAAAA,UAJrB,EAKIC,YAAYJ,OAAII,CAAAA,SALpB;AAqEA1C,WAAU2C,CAAAA,SAAUC,CAAAA,eAApB,GAAsCC,QAAQ,CAACC,MAAD,EAAQC,QAAR,CAAiB;AAC9D,QAAI9C,UAAU,IAAKA,CAAAA,OAAnB,EACIqC,MAAO,IAAII,SAAJ,EADX,EAEIrC,aAAaJ,OAAQI,CAAAA,UAArBA,IAAmC,IAAIS,UAAJ,EAFvC,EAGIF,eAAeX,OAAQW,CAAAA,YAH3B,EAIIV,UAAUD,OAAQC,CAAAA,OAJtB,EAKI8C,eAAe/C,OAAQgD,CAAAA,KAAvBD,IAA8B,EALlC,EAMIE,SAAS,YAAaC,CAAAA,IAAb,CAAkBJ,QAAlB,CANb;AAOMK,YAAAA,GAAYF,MAAA,GAASb,QAASgB,CAAAA,aAAlB,GAAkChB,QAASiB,CAAAA,YAAvDF;AACHlD,WAAH,IACCG,UAAWkD,CAAAA,kBAAX,CAA8BrD,OAA9B,CADD;AAIAoC,OAAI1B,CAAAA,YAAJ,GAAmBT,iBAAA,CAAkBS,YAAlB,EAA+BP,UAA/B,EAA0CH,OAA1C,CAAnB;AACAoC,OAAIjC,CAAAA,UAAJ,GAAiBJ,OAAQI,CAAAA,UAAzB,IAAuCA,UAAvC;AACG6C,UAAH,KACCF,YAAA,CAAa,EAAb,CADD,GACoBR,SAAUgB,CAAAA,IAD9B;AAGAR,gBAAaS,CAAAA,GAAb,GAAmBT,YAAaS,CAAAA,GAAhC,IAAuCjB,SAAUkB,CAAAA,GAAjD;AACIC,WAAAA,GAAY1D,OAAQJ,CAAAA,oBAApB8D,IAA4C9D,oBAA5C8D;AACAb,UAAJ,IAAgC,QAAhC,KAAc,MAAOA,OAArB,GACCR,GAAIsB,CAAAA,KAAJ,CACCD,OAAA,CAAUb,MAAV,CADD,EAECE,YAFD,EAGCI,QAHD,CADD,GAOCd,GAAI1B,CAAAA,YAAaiD,CAAAA,KAAjB,CAAuB,oBAAvB,CAPD;AASA,WAAOxD,UAAW6B,CAAAA,GAAlB;AA7B8D,GAA/D;AA6EApB,YAAW6B,CAAAA,SAAX,GAAuB,CACtBmB,cAAgBA,QAAQ,EAAG;AACvB,QAAK5B,CAAAA,GAAL,GAAmC6B,CAAxB,IAAIxB,iBAAJ,EAAwBwB,EAAAA,cAAxB,CAAuC,IAAvC,EAA6C,IAA7C,EAAmD,IAAnD,CAAX;AACI,QAAK7D,CAAAA,OAAT,KACI,IAAKgC,CAAAA,GAAI8B,CAAAA,WADb,GAC2B,IAAK9D,CAAAA,OAAQoB,CAAAA,QADxC;AAFuB,GADL,EAOtB2C,aAAaA,QAAQ,CAACC,YAAD,EAAeC,SAAf,EAA0BC,KAA1B,EAAiCC,KAAjC,CAAwC;AAC5D,QAAInC,MAAM,IAAKA,CAAAA,GAAf;AACOoC,aAAAA,GAAKpC,GAAIqC,CAAAA,eAAJ,CAAoBL,YAApB,EAAkCE,KAAlC,IAAyCD,SAAzC,CAALG;AACJ,QAAIE,MAAMH,KAAM3D,CAAAA,MAAhB;AACAoB,iBAAA,CAAc,IAAd,EAAoBwC,SAApB,CAAA;AACA,QAAKtC,CAAAA,cAAL,GAAsBsC,SAAtB;AAEH,QAAKpE,CAAAA,OAAL,IAAgBe,QAAA,CAAS,IAAKf,CAAAA,OAAd,EAAsBoE,SAAtB,CAAhB;AACG,SAAK,IAAIG,IAAI,CAAb,EAAiBA,CAAjB,GAAqBD,GAArB,EAA0BC,CAAA,EAA1B,CAA+B;AACvBP,kBAAJ,GAAmBG,KAAMK,CAAAA,MAAN,CAAaD,CAAb,CAAnB;AACA,UAAIE,QAAQN,KAAMO,CAAAA,QAAN,CAAeH,CAAf,CAAZ;AACIL,WAAJ,GAAYC,KAAMQ,CAAAA,QAAN,CAAeJ,CAAf,CAAZ;AACFK,kBAAAA,GAAO5C,GAAI6C,CAAAA,iBAAJ,CAAsBb,YAAtB,EAAoCE,KAApC,CAAPU;AACJ,UAAK5E,CAAAA,OAAL,IAAee,QAAA,CAASoD,KAAMW,CAAAA,UAAN,CAAiBP,CAAjB,CAAT,EAA6BK,YAA7B,CAAf;AACAA,kBAAKH,CAAAA,KAAL,GAAaG,YAAKG,CAAAA,SAAlB,GAA8BN,KAA9B;AACAL,eAAGY,CAAAA,gBAAH,CAAoBJ,YAApB,CAAA;AAPiC;AAR0B,GAPvC,EAyBtBK,WAAWA,QAAQ,CAACjB,YAAD,EAAeC,SAAf,EAA0BC,KAA1B,CAAiC;AAGnD,QAAKpC,CAAAA,cAAL,GAFc,IAAKA,CAAAA,cAEWoD,CAAAA,UAA9B;AAHmD,GAzB9B,EA8BtBC,mBAAmBA,QAAQ,CAACC,MAAD,EAASC,GAAT,CAAc;GA9BnB,EAgCtBC,iBAAiBA,QAAQ,CAACF,MAAD,CAAS;GAhCZ,EAkCtBG,sBAAsBA,QAAQ,CAACC,MAAD,EAASC,IAAT,CAAe;AACrCC,UAAAA,GAAM,IAAK1D,CAAAA,GAAI2D,CAAAA,2BAAT,CAAqCH,MAArC,EAA6CC,IAA7C,CAANC;AACJ,QAAK1F,CAAAA,OAAL,IAAgBe,QAAA,CAAS,IAAKf,CAAAA,OAAd,EAAsB0F,MAAtB,CAAhB;AACA9D,iBAAA,CAAc,IAAd,EAAoB8D,MAApB,CAAA;AAHyC,GAlCvB,EAuCtBE,oBAAoBA,QAAQ,CAACC,EAAD,EAAKtE,KAAL,EAAYf,MAAZ,CAAoB;GAvC1B,EAyCtBsF,WAAWA,QAAQ,CAACxE,KAAD,EAAQC,KAAR,EAAef,MAAf,CAAuB;AAGzC,QAFAc,KAEA,GAFQD,SAAU0E,CAAAA,KAAV,CAAgB,IAAhB,EAAqBC,SAArB,CAER,CAAS;AAEP,UAAIC,WADD,IAAKnF,CAAAA,KAAT,GACgB,IAAKkB,CAAAA,GAAIkE,CAAAA,kBAAT,CAA4B5E,KAA5B,CADhB,GAGgB,IAAKU,CAAAA,GAAImE,CAAAA,cAAT,CAAwB7E,KAAxB,CAFf;AAIE,UAAKQ,CAAAA,cAAR,GACC,IAAKA,CAAAA,cAAeC,CAAAA,WAApB,CAAgCkE,QAAhC,CADD,GAES,OAAQhD,CAAAA,IAAR,CAAa3B,KAAb,CAFT,IAGC,IAAKU,CAAAA,GAAID,CAAAA,WAAT,CAAqBkE,QAArB,CAHD;AAMA,UAAKjG,CAAAA,OAAL,IAAgBe,QAAA,CAAS,IAAKf,CAAAA,OAAd,EAAsBiG,QAAtB,CAAhB;AAZQ;AAHgC,GAzCpB,EA2DtBG,cAAcA,QAAQ,CAACC,IAAD,CAAO;GA3DP,EA6DtBC,YAAYA,QAAQ,EAAG;AACtB,QAAKtE,CAAAA,GAAIyB,CAAAA,SAAT,EAAA;AADsB,GA7DD,EAgEtBJ,mBAAmBA,QAAS,CAACrD,OAAD,CAAU;AAClC,QAAG,IAAKA,CAAAA,OAAR,GAAkBA,OAAlB;AACCA,aAAQiB,CAAAA,UAAR,GAAqB,CAArB;AADD;AADkC,GAhEhB,EAsEtBsF,QAAQA,QAAQ,CAACjF,KAAD,EAAQC,KAAR,EAAef,MAAf,CAAuB;AACtCc,SAAA,GAAQD,SAAU0E,CAAAA,KAAV,CAAgB,IAAhB,EAAqBC,SAArB,CAAR;AACG,QAAIQ,OAAO,IAAKxE,CAAAA,GAAIyE,CAAAA,aAAT,CAAuBnF,KAAvB,CAAX;AACA,QAAKtB,CAAAA,OAAL,IAAgBe,QAAA,CAAS,IAAKf,CAAAA,OAAd,EAAsBwG,IAAtB,CAAhB;AACA5E,iBAAA,CAAc,IAAd,EAAoB4E,IAApB,CAAA;AAJmC,GAtEjB,EA6EtBE,WAAWA,QAAQ,EAAG;AAElB,QAAK5F,CAAAA,KAAL,GAAa,CAAA,CAAb;AAFkB,GA7EA,EAiFtB6F,SAASA,QAAQ,EAAG;AAChB,QAAK7F,CAAAA,KAAL,GAAa,CAAA,CAAb;AADgB,GAjFE,EAqFtB8F,SAASA,QAAQ,CAACP,IAAD,EAAOQ,QAAP,EAAiBzF,QAAjB,CAA2B;AAC3C,QAAI0F,OAAO,IAAK9E,CAAAA,GAAI+E,CAAAA,cAApB;AACOD,QAAJ,IAAYA,IAAKE,CAAAA,kBAAjB,KACQC,IAGR,GAHaH,IAAKE,CAAAA,kBAAL,CAAwBX,IAAxB,EAA8BQ,QAA9B,EAAwCzF,QAAxC,CAGb,EAFI,IAAKpB,CAAAA,OAET,IAFoBe,QAAA,CAAS,IAAKf,CAAAA,OAAd,EAAsBiH,IAAtB,CAEpB,EADIrF,aAAA,CAAc,IAAd,EAAoBqF,IAApB,CACJ,EAAA,IAAKjF,CAAAA,GAAIkF,CAAAA,OAAT,GAAmBD,IAJnB;AAFwC,GArFtB,EAkGtBE,QAAQA,QAAQ,CAACxD,KAAD,CAAQ;AACvByD,WAAQC,CAAAA,IAAR,CAAa,oBAAb,GAAkC1D,KAAlC,EAAwChD,QAAA,CAAS,IAAKX,CAAAA,OAAd,CAAxC,CAAA;AADuB,GAlGF,EAqGtB2D,MAAMA,QAAQ,CAACA,KAAD,CAAQ;AACrByD,WAAQzD,CAAAA,KAAR,CAAc,kBAAd,GAAiCA,KAAjC,EAAuChD,QAAA,CAAS,IAAKX,CAAAA,OAAd,CAAvC,CAAA;AADqB,GArGA,EAwGtBsH,WAAWA,QAAQ,CAAC3D,KAAD,CAAQ;AAC1B,UAAM,IAAIpB,UAAJ,CAAeoB,KAAf,EAAsB,IAAK3D,CAAAA,OAA3B,CAAN;AAD0B,GAxGL,CAAvB;AA2JA,gKAA+JH,CAAAA,OAA/J,CAAuK,MAAvK,EAA8K,QAAQ,CAACQ,GAAD,CAAK;AAC1LO,cAAW6B,CAAAA,SAAX,CAAqBpC,GAArB,CAAA,GAA4B,QAAQ,EAAE;AAAC,aAAO,IAAP;AAAD,KAAtC;AAD0L,GAA3L,CAAA;AAaAX,SAAQ6H,CAAAA,YAAR,GAAuB3G,UAAvB;AACAlB,SAAQC,CAAAA,oBAAR,GAA+BA,oBAA/B;AACAD,SAAQI,CAAAA,SAAR,GAAoBA,SAApB;AAlU8G,CAA9G;;",
"sources":["node_modules/@xmldom/xmldom/lib/dom-parser.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$xmldom$xmldom$lib$dom_parser\"] = function(global,require,module,exports) {\nvar conventions = require(\"./conventions\");\nvar dom = require('./dom')\nvar entities = require('./entities');\nvar sax = require('./sax');\n\nvar DOMImplementation = dom.DOMImplementation;\n\nvar NAMESPACE = conventions.NAMESPACE;\n\nvar ParseError = sax.ParseError;\nvar XMLReader = sax.XMLReader;\n\n/**\n * Normalizes line ending according to https://www.w3.org/TR/xml11/#sec-line-ends:\n *\n * > XML parsed entities are often stored in computer files which,\n * > for editing convenience, are organized into lines.\n * > These lines are typically separated by some combination\n * > of the characters CARRIAGE RETURN (#xD) and LINE FEED (#xA).\n * >\n * > To simplify the tasks of applications, the XML processor must behave\n * > as if it normalized all line breaks in external parsed entities (including the document entity)\n * > on input, before parsing, by translating all of the following to a single #xA character:\n * >\n * > 1. the two-character sequence #xD #xA\n * > 2. the two-character sequence #xD #x85\n * > 3. the single character #x85\n * > 4. the single character #x2028\n * > 5. any #xD character that is not immediately followed by #xA or #x85.\n *\n * @param {string} input\n * @returns {string}\n */\nfunction normalizeLineEndings(input) {\n\treturn input\n\t\t.replace(/\\r[\\n\\u0085]/g, '\\n')\n\t\t.replace(/[\\r\\u0085\\u2028]/g, '\\n')\n}\n\n/**\n * @typedef Locator\n * @property {number} [columnNumber]\n * @property {number} [lineNumber]\n */\n\n/**\n * @typedef DOMParserOptions\n * @property {DOMHandler} [domBuilder]\n * @property {Function} [errorHandler]\n * @property {(string) => string} [normalizeLineEndings] used to replace line endings before parsing\n * \t\t\t\t\t\tdefaults to `normalizeLineEndings`\n * @property {Locator} [locator]\n * @property {Record<string, string>} [xmlns]\n *\n * @see normalizeLineEndings\n */\n\n/**\n * The DOMParser interface provides the ability to parse XML or HTML source code\n * from a string into a DOM `Document`.\n *\n * _xmldom is different from the spec in that it allows an `options` parameter,\n * to override the default behavior._\n *\n * @param {DOMParserOptions} [options]\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-parsing-and-serialization\n */\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n}\n\nDOMParser.prototype.parseFromString = function(source,mimeType){\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar isHTML = /\\/x?html?$/.test(mimeType);//mimeType.toLowerCase().indexOf('html') > -1;\n  \tvar entityMap = isHTML ? entities.HTML_ENTITIES : entities.XML_ENTITIES;\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(isHTML){\n\t\tdefaultNSMap[''] = NAMESPACE.HTML;\n\t}\n\tdefaultNSMap.xml = defaultNSMap.xml || NAMESPACE.XML;\n\tvar normalize = options.normalizeLineEndings || normalizeLineEndings;\n\tif (source && typeof source === 'string') {\n\t\tsax.parse(\n\t\t\tnormalize(source),\n\t\t\tdefaultNSMap,\n\t\t\tentityMap\n\t\t)\n\t} else {\n\t\tsax.errorHandler.error('invalid doc source')\n\t}\n\treturn domBuilder.doc;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn && isCallback){\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\n\t\t}||function(){};\n\t}\n\tbuild('warning');\n\tbuild('error');\n\tbuild('fatalError');\n\treturn errorHandler;\n}\n\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.doc;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t\tvar tagName = current.tagName;\n\t\tthis.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.doc.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\t//console.log(chars)\n\t\tif(chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\n\t\t\t}\n\t\t\tif(this.currentElement){\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}else if(/^\\s*$/.test(chars)){\n\t\t\t\tthis.doc.appendChild(charNode);\n\t\t\t\t//process xml\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.doc.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\t//LexicalHandler\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.doc.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\n\tstartCDATA:function() {\n\t    //used in characters() methods\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.doc.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t\t\t\t\tthis.doc.doctype = dt;\n\t    }\n\t},\n\t/**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n\twarning:function(error) {\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tthrow new ParseError(error, this.locator);\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.doc.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nexports.__DOMHandler = DOMHandler;\nexports.normalizeLineEndings = normalizeLineEndings;\nexports.DOMParser = DOMParser;\n\n};"],
"names":["shadow$provide","global","require","module","exports","normalizeLineEndings","input","replace","DOMParser","options","locator","buildErrorHandler","errorImpl","domBuilder","build","key","fn","isCallback","length","msg","errorHandler","_locator","DOMHandler","Function","cdata","position","node","lineNumber","columnNumber","l","systemId","_toString","chars","start","substr","java","lang","String","appendElement","hander","currentElement","appendChild","doc","conventions","dom","entities","sax","DOMImplementation","NAMESPACE","ParseError","XMLReader","prototype","parseFromString","DOMParser.prototype.parseFromString","source","mimeType","defaultNSMap","xmlns","isHTML","test","entityMap","HTML_ENTITIES","XML_ENTITIES","setDocumentLocator","HTML","xml","XML","normalize","parse","error","startDocument","createDocument","documentURI","startElement","namespaceURI","localName","qName","attrs","el","createElementNS","len","i","getURI","value","getValue","getQName","attr","createAttributeNS","getLocator","nodeValue","setAttributeNode","endElement","parentNode","startPrefixMapping","prefix","uri","endPrefixMapping","processingInstruction","target","data","ins","createProcessingInstruction","ignorableWhitespace","ch","characters","apply","arguments","charNode","createCDATASection","createTextNode","skippedEntity","name","endDocument","comment","comm","createComment","startCDATA","endCDATA","startDTD","publicId","impl","implementation","createDocumentType","dt","doctype","warning","console","warn","fatalError","__DOMHandler"]
}
