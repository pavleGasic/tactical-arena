{
"version":3,
"file":"module$node_modules$pixi_DOT_js$lib$filters$mask$MaskFilter.js",
"lineCount":30,
"mappings":"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",
"sources":["node_modules/pixi_DOT_js/lib/filters/mask/MaskFilter.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$pixi_DOT_js$lib$filters$mask$MaskFilter\"] = function(global,require,module,exports) {\n'use strict';\n\nvar Matrix = require('../../maths/matrix/Matrix.js');\nvar GlProgram = require('../../rendering/renderers/gl/shader/GlProgram.js');\nvar GpuProgram = require('../../rendering/renderers/gpu/shader/GpuProgram.js');\nvar UniformGroup = require('../../rendering/renderers/shared/shader/UniformGroup.js');\nvar TextureMatrix = require('../../rendering/renderers/shared/texture/TextureMatrix.js');\nvar Filter = require('../Filter.js');\nvar mask$2 = require('./mask.frag.js');\nvar mask$1 = require('./mask.vert.js');\nvar mask = require('./mask.wgsl.js');\n\n\"use strict\";\nclass MaskFilter extends Filter.Filter {\n  constructor(options) {\n    const { sprite, ...rest } = options;\n    const textureMatrix = new TextureMatrix.TextureMatrix(sprite.texture);\n    const filterUniforms = new UniformGroup.UniformGroup({\n      uFilterMatrix: { value: new Matrix.Matrix(), type: \"mat3x3<f32>\" },\n      uMaskClamp: { value: textureMatrix.uClampFrame, type: \"vec4<f32>\" },\n      uAlpha: { value: 1, type: \"f32\" },\n      uInverse: { value: options.inverse ? 1 : 0, type: \"f32\" }\n    });\n    const gpuProgram = GpuProgram.GpuProgram.from({\n      vertex: {\n        source: mask.default,\n        entryPoint: \"mainVertex\"\n      },\n      fragment: {\n        source: mask.default,\n        entryPoint: \"mainFragment\"\n      }\n    });\n    const glProgram = GlProgram.GlProgram.from({\n      vertex: mask$1.default,\n      fragment: mask$2.default,\n      name: \"mask-filter\"\n    });\n    super({\n      ...rest,\n      gpuProgram,\n      glProgram,\n      resources: {\n        filterUniforms,\n        uMaskTexture: sprite.texture.source\n      }\n    });\n    this.sprite = sprite;\n    this._textureMatrix = textureMatrix;\n  }\n  set inverse(value) {\n    this.resources.filterUniforms.uniforms.uInverse = value ? 1 : 0;\n  }\n  get inverse() {\n    return this.resources.filterUniforms.uniforms.uInverse === 1;\n  }\n  apply(filterManager, input, output, clearMode) {\n    this._textureMatrix.texture = this.sprite.texture;\n    filterManager.calculateSpriteMatrix(\n      this.resources.filterUniforms.uniforms.uFilterMatrix,\n      this.sprite\n    ).prepend(this._textureMatrix.mapCoord);\n    this.resources.uMaskTexture = this.sprite.texture.source;\n    filterManager.applyFilter(this, input, output, clearMode);\n  }\n}\n\nexports.MaskFilter = MaskFilter;\n//# sourceMappingURL=MaskFilter.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","Matrix","GlProgram","GpuProgram","UniformGroup","TextureMatrix","Filter","mask$2","mask$1","mask","MaskFilter","constructor","options","sprite","rest","textureMatrix","texture","filterUniforms","uFilterMatrix","value","type","uMaskClamp","uClampFrame","uAlpha","uInverse","inverse","gpuProgram","from","vertex","source","default","entryPoint","fragment","glProgram","name","resources","uMaskTexture","_textureMatrix","uniforms","apply","filterManager","input","output","clearMode","calculateSpriteMatrix","prepend","mapCoord","applyFilter"]
}
